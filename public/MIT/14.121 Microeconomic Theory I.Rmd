---
output: html_document
---

# 14.121 - Microeconomic Theory I{.tabset}

## **1) Utility and Revealed Preferences**

Materials: [**class**](https://gabrielvoelcker.netlify.com/mit/14.121lecture1.pdf), [**recitation**](https://gabrielvoelcker.netlify.com/mit/recitation1_debreu.pdf) and [**Debreu's Proof**](https://gabrielvoelcker.netlify.com/mit/debreu_continuityproof.pdf).

### Utility Theory

The first class of the semester covers basic Microeconomic topics such as Utility Theory and Revealed preferences. We use an axiomatic approach to the utility theory to find less obvious asumptions of utility theory. It was recognized that utility could not be measured or observed directly, so instead economists devised a way to infer underlying relative utilities from observed choice. 

#### [**Utility Theory**](https://en.wikipedia.org/wiki/Utility): 

In Economics, the concept of **utility** is used to model worth/value. In most economic models, agents are assumed to have a utility function that they maximize. The utility function approach usually serves [**two purposes**](https://www.investopedia.com/ask/answers/12/difference-between-positive-normative-economics.asp):

1) Model for predicting behavior (positive); i.e. agent will maximize utility. This is the "what is" approach. This is most commonly used (95%).
    
2) Framework for welfare analysis (normative); i.e. utility is "good". This is the "what should happen" approach.

If we reflect about this utility approach, we have an opportunity to introduce one useful economic methodology: the **axiomatic approach**.
    
#### [**Axiomatic Approach**](https://en.wikipedia.org/wiki/Axiomatic_system): 

The idea is to *find simple axioms which together are equivalent to
less obvious assumptions of utility theory*.  Any set of axioms from which some or all axioms can be used in conjunction to logically derive theorems exemplify an axiomatic approach. A theory consists of an axiomatic system and all its derived theorems. An axiomatic system that is completely described is a special kind of formal system. A formal theory typically means an axiomatic system, for example formulated within model theory. A formal proof is a complete rendition of a mathematical proof within a formal system.

#### [**Utility Function**](https://en.wikipedia.org/wiki/Utility#Utility_function):

A utility function represents a consumer's preference ordering over a choice set.  Consider a set of alternatives facing an individual, and over which the individual has a preference ordering. A **utility function** is able to represent those preferences if it is *possible to assign a real number to each alternative*, in such a way that alternative a is assigned a number greater than alternative b if, and only if, the individual prefers alternative a to alternative b. In this situation an individual that selects the most preferred alternative available is necessarily also selecting the alternative that maximises the associated utility function. In general economic terms, a utility function measures preferences concerning a set of goods and services. Often, utility is correlated with words such as happiness, satisfaction, and welfare, and these are hard to measure mathematically. Thus, economists utilize consumption baskets of preferences in order to measure these abstract, non quantifiable ideas. 

Gérard Debreu precisely defined the conditions required for a preference ordering to be representable by a utility function. For a finite set of alternatives these require only that the preference ordering is complete (so the individual is able to determine which of any two alternatives is preferred, or that they are equally preferred), and that the preference order is transitive.

##### **Utility Function Definition**: 
A **utility function** u defined on X is a real-valued function u: X -> $\mathbb{R}$. A more foundational place to start to think about assumptions inherent in utility theory is treating preferences as a primitive.

##### **Preference Definition**: 

*P* is a subset of X x X, where we write x $\succeq_P$ *y* if (x,y) $\in$ *P*. Interpretation of x $\succeq_P$ y: agent thinks "*x* is **at least as good as** *y*".

So the utility function *u*: X -> $\mathbb{R}$ **represents** the preference P if:

  u(x) ≥ u(y) $\iff$ x $\succeq_P$ y.

Note: many different utility functions can represent the same set of
preferences. e.g., if X = {x, y, z}, and P = {(x, y),(x, z),(y, z)}
(i.e x $\succeq_P$ y, x $\succeq_P$ z, y $\succeq_P$ z).

In general if u represents P, then so does *f* $\circ$ *u*, for any *strictly* increasing function *f*.

##### **Properties of Preferences**:

- The preference relation $\succeq_P$ is **complete** on *X* if $\forall$*x*, *y* $\in$ *X*, either *x* $\succeq_P$ *y* or *y* $\succeq_P$ *x*.

- The preference relation $\succeq_P$ is **reflexive** on *X* if $\forall$*x* $\in$ *X*, *x* $\succeq_P$ *x*.

- The preference relation $\succeq_P$ is **transitive** on *X* if *x* $\succeq_P$ *y* and *y* $\succeq_P$ *z* $\implies$ *x* $\succeq_P$ *z*.

Our first result is the following **proposition**: if $\succeq_P$ is represented by *u* on *X*, then $\succeq_P$ is complete, reflexive and transitive.

**Proof**:

- Complete: given any *x,y* $\in$ *X*, either u(x) ≥ u(y) or u(y) ≥ u(x) (property of real numbers). This implies x $\succeq_P$ y or y $\succeq_P$ x(by representation assumption). Indifference between two goods doesn't violate completeness.

- Reflexive: given any x $\in$ X, u(x) ≥ u(x) $\implies$ x $\succeq_P$ x.

- Transitive: if x $\succeq_P$ y and y $\succeq_P$ z, then u(x) ≥ u(y) and u(y) ≥ u(z). Transitivity of ≥ on $\mathbb{R}$ implies that u(x) ≥ u(z) $\implies$ x $\succeq_P$ z.

Usually we leave out preferences that do not satisfy these 3 assumptions. Now let's consider the other way around: if $\succeq_P$ is complete, reflexive and transitive, then can it be described by some utility function? It depends on whether the X is **finite**. 

**Proposition**:

Let X be a finite set. Let P be a preference on X. Assume $\succeq_p$ is complete on X, reflexive on X, and transitive on X. Then there exists a utility function *u* which represents P.

**Proof by construction**: B(x) {z $\varepsilon$ X | x $\succeq_p$ z} $\implies$ z is "below" x. Let u(x) = |B(x)| -> count of itens "below" x.

1) u(x) ≥ u(y) $\implies$ x ≥ y

2) x $\succeq_p$ y $\implies$ u(x) ≥ u(y)

Transitivity: a $\succeq_p$ b $\succeq_p$ c.

Ex: u(c) = 1, u(b) = 2, u(a) = 3.

1) u(x) ≥ u(y) $\implies$ |B(x)| ≥ |B(y)|

By definition: y $\varepsilon$ B(x) x $\succeq_p$ y

y $\nexists$ B(x) |B(y)| - 1 = |B(y) - {y}|

Since |B(x)| ≥ |B(y)|

|B(x)| ≥ |B(y)| - 1

|B(x) - {y}| > |B(y) - {y}|

$\exists$ z $\varepsilon$ X - {y}

x $\succeq_p$ z but y $\succeq_p$ z

Completeness: z $\succeq_p$ y

Transitivity: x $\succeq_p$ y, y $\varepsilon$ B(x) ***-><-**. We started from: |B(x)| ≥ |B(y)|

2) x $\succeq_p$ y $\implies$ u(x) ≥ u(y)

z $\varepsilon$ B(y)

x $\succeq_p$ y; y $\succeq_p$ z

x $\succeq_p$ z $\implies$ z $\varepsilon$ B(x)

B(y) $\subset$ B(x) $\implies$ |B(x)| ≥ |B(y)| -> u(x) ≥ u(y)

Some comments:

1) With finite sets, apparently assuming utility maximization is exactly the same as assuming preferences are complete, reflexive and transitive.

2) Any critique of utility theory is a critique of one of these assumptions (or our notion of preferences). If we are happy with these, then we are happy with utility functions.

3) To turn preferences into *predictive* or *welfare tool*, we need to explicitly state that people will do what they prefer.

##### [**Criticisms of Utility Theory**](https://en.wikipedia.org/wiki/Utility#Discussion_and_criticism):

Some main criticisms of the UT:

1) **Realism**: people don't really act *as-if* they maximize utility, which is not necessarily true: no one chooses objects after consulting some numerical index of goodness. So, what can we **falsify**?

2) **Inconsistent or probabilistic choice**: the individual may choose an object with lower utility for some random reason. But the standard model assumes choices are innate and unchanging. This is the notion of [**random utility**](https://www.sciencedirect.com/topics/social-sciences/random-utility-theory).

3) **Origin of preferences**: tastes change, or [**De Gustibus Non Est Disputandum**](https://www.jstor.org/stable/1807222?seq=1#page_scan_tab_contents).

4) **Procedural vs consequentialist aspects of choice**: If x is chosen from set A, individual is just as well off if given a choice from A vs simply given x without opportunity to choose. But maybe individuals value the freedom to choose, while at the same time too many options can be bad(choice overload).

Despite the criticism, the standard model still remains the workhorse model and remains useful, but important to remember it is **based on assumptions on human behavior** and not laws of nature.

#### Not clear how the content before here is bridged to the next part

**Monotone Definition**: the preference relation $\succeq$ on X is **monotone** if x $\in$ X and y ≥ x implies y $\succeq$ x. If y ≠ x and y ≥ x, then **strictly monotone**. ("goods are goods"???)

[**Locally non-satiated definition**](https://en.wikipedia.org/wiki/Local_nonsatiation): states that for any bundle of goods there is always another bundle of goods arbitrarily close that is preferred to it. Formally, if $\forall$x $\in$ X and all $\delta$ > 0, $\exists$y s.t. ||y - x|| < $\delta$ and y $\succeq$ x. 

Some things to note:

1) Local nonsatiation is implied by **monotonicity of preferences**. Because the converse isn't true, local nonsatiation is a weaker condition.

2) There is no requirement that the preferred bundle y contain more of any good – hence, some goods can be "bads" and preferences can be non-monotone.

3) It rules out the extreme case where all goods are "bads", since the point x = 0 would then be a bliss point.

4) Local nonsatiation can only occur either if the consumption set is unbounded (open) (in other words, it cannot be compact) or if x is on a section of a bounded consumption set sufficiently far away from the ends. Near the ends of a bounded set, there would necessarily be a bliss point where local nonsatiation does not hold.

[**Convex preferences definition**](https://en.wikipedia.org/wiki/Convex_preferences): are an individual's ordering of various outcomes, typically with regard to the amounts of various goods consumed, with the property that, roughly speaking, "averages are better than the extremes". The concept roughly corresponds to the concept of diminishing marginal utility without requiring utility functions. Formally, the preference relation $\succeq$ on X is **convex** if $\forall$x, y $\succeq$ x, z $\succeq$ x and y ≠ z implies that for all $\alpha$ $\in$ (0,1): $\alpha$y + (1 - $\alpha$)z $\succeq$ x. This leads to "moderation in all things".

[**Continuous preference definition**](https://en.wikipedia.org/wiki/Preference_(economics)#Meaning_in_decision_sciences): Continuity simply means that there are **no ‘jumps’** in people's preferences. In mathematical terms, if we prefer point A along a preference curve to point B, points very close to A will also be preferred to B. This allows preference curves to be differentiated. The continuity assumption is "stronger than needed" in the sense that it indeed guarantees the existence of a continuous utility function representation and it is useful because **it does not require the set of preferences to be finite**. Continuity is, therefore, a sufficient condition, but not a necessary one, for a system of preferences. Formally, the preference relation $\succeq$ on X is **continuous** if it is preserved under limits: for any sequence{($x^n,y^n$)}$_{n=1}^{\infty}$ with $x^n$ $\succeq$ $y^n$ for all *n*, x $\succeq$ y, where x and y are limit points of the sequence, respectively.

**The continuity assumption is assumed in order to extend the earlier representation theorem to commodity space X which is not countable.** For continuity proof, see [**here**](https://gabrielvoelcker.netlify.com/mit/debreu_continuityproof.pdf).

[**Debreu's Theorem**](https://en.wikipedia.org/wiki/Debreu_theorems): the Debreu theorems come to answer the following basic question: what conditions on the preference relation of the agent guarantee that such representative utility function can be found? So, his 1954 theorems state that for every preference relation which is complete, transitive and continuous, this relation can be represented by a [**continuous ordinal utility function**](https://en.wikipedia.org/wiki/Ordinal_utility#Continuity). **Slide definition**: supposte the rational preference relation is $\succeq$ on X is continuous. Then there is a continuous utility function u(x) that represents $\succeq$. See p 47 of [**MWG**](https://gabrielvoelcker.netlify.com/mit/Mas-Colell,%20Whinston%20&%20Green%20-%20Microeconomic%20Theory.pdf).

**Choices as primitive**: So far we have taken preferences as a primitive.
Another approach is to take treat choice behavior as the primitive. Let $\mathcal{B}$ be a set of nonempty subsets of X and Ch($\circ$) be a choice rule that assigns a nonempty set of chosen elements Ch(B) $\subset$ B for each B $\in$ $\mathcal{B}$. A lot of modern literature begins this way, more [**here**](https://www.taylorfrancis.com/books/9780429498619).

#### **Recap**

1) Axiomatic method is a useful way to think about complex
assumptions we make.

2) With finite choice sets, the assumption of a utility representation is equivalent requiring preferences to be complete, reflexive, and transitive. Continuity yields utility representation when choice set not finite.

### **Revealed Preferences**

[**Revealed Preferences Theory**](https://en.wikipedia.org/wiki/Revealed_preference):  is a method of analyzing choices made by individuals, mostly used for comparing the influence of policies on consumer behavior. Revealed preference models assume that the preferences of consumers can be revealed by their purchasing habits.

In terms of choice experiment, suppose a consumer is repeatedly asked to choose a consumption bundle x $\in$ $\mathbb{R}^{L+}$. The consumer r is confronted with different prices and we observe resulting choices C = {($p^1,x^1$),($p^2,x^2$),...}. What can we say about preferences and what axioms they satisfy? Need some **structure on preferences**, otherwise indifference could rationalize any behavior.

So, we turn back to the **local nonsatiation condition**: the utility function u: X -> $\mathbb{R}$ satisfies local nonsatiation if $\forall$x $\in$ X, and all $\varepsilon$ > 0, $\exists$y $\in$ X with || y - x || < $\varepsilon$ such that u(y) > u(x). Observe: x,y at price p and p$\circ$x ≥ p$\circ$y. If x chosen when y could have been chosen, x is **directly revealed preferred** to y. The notation for this is **$xR^Dy$**. 

If there is a sequence of preferences such as: $xR^Dz_1$, $z_1R^Dz_2$, ..., $z_nR^Dy$, we can say that x is (indirectly) **revealed preferred** to y and write xRy. Denote strict counterparts with $P^D$ and P, respectively: $xP^Dy$ $\iff$ p$\circ$x > p$\circ$y.

**General Axiom of Revealed Preferences(GARP)**: a set of consumption choices {($p^1,x^1$),($p^2,x^2$),...,($p^n,x^n$)} satisfies the general axiom of revealed preferences if and only if:

$x^iRx^j$ $\implies$ $p^j\circ x^j$ ≤ $p^i\circ x^i$, $\forall i,j$. 

If $x^i$ is revealed preferred to $x^j$, then $x^i$ is only weakly affordable at $x^j$'s prices.

Put differently: if $x^i$ is indirectly revealed preferred to $x^j$, then $x^j$ cannot be strictly directly revealed preferred to $x^i$. That is,

$x^iRx^j$ $\implies$ not $x^jP^Dx^i$

Some textbooks have other axioms of revealed preferences. 

1) [**The Weak Axiom of Revealed Preference(WARP)**](https://en.wikipedia.org/wiki/Revealed_preference#The_Weak_Axiom_of_Revealed_Preference_(WARP)): is one of the criteria which needs to be satisfied in order to make sure that the consumer is consistent with his preferences. If a bundle of goods a is chosen over another bundle b when both are affordable, then the consumer reveals that they prefer a over b. WARP says that when preferences remain the same, there are no circumstances (budget set) where the consumer strictly prefers b over a. By choosing a over b when both bundles are affordable, the consumer reveals that their preferences are such that they will never choose b over a, while prices remain constant. Put simply: if $x^iR^Dx^j$ and $x^i$ ≠ $x^j$, then it is not the case that $x^jR^Dx^i$.

2) [**The Strong Axiom of Revealed Preference(WARP)**](https://en.wikipedia.org/wiki/Revealed_preference#Completeness:_The_Strong_Axiom_of_Revealed_Preferences_(SARP)): The strong axiom of revealed preferences is equivalent to the weak axiom of revealed preferences, except that the consumer is not allowed to be indifferent between the two bundles that are compared. That is, if WARP concludes a $\succeq$ b, SARP goes further and concludes that a $\succ$ b. Put simply: if $x^iRx^j$ and $x^i$ ≠ $x^j$, then it is not the case that $x^jRx^i$.

**Afriat's Proposition**: the central result of consumer theory is Let {($p^1,x^1$),...,($p^n,x^n$)} be a finite set of consumption choices. If a finite set of demand data violates GARP, then these data are inconsistent with choice according to locally nonsatiated, complete, and transitive preferences. Conversely, if a finite set of demand data satisfies GARP, then these data are consistent with choice according to strictly increasing, continuous, convex, complete and transitive preferences.

[**Kreps**](https://gabrielvoelcker.netlify.com/mit/David%20M.%20Kreps-Microeconomic%20Foundations%20I_%20Choice%20and%20Competitive%20Markets-Princeton%20University%20Press%20(2013).pdf): shows the equivalence of GARP and the existence of a solution to a set of linear inequalities. From this  solution, we can construct a utility function rationalizing the choices of the consumer. Chapter 4 of Kreps for complete proof.

- Kreps and Varian emphasize that with finite data on (p, x), strictly increasing or continuous or convex adds no testable restrictions (if satisfy GARP, can construct a utility function satisfying these extra conditions)

GARP is discussed in fields where people are interested in whether some utility function can explain things. Examples: 1) Behavioral: can we explain altruism etc. with utility?; 2) Family/household: are interfamily dynamics causing inefficiency or do families act like they have some common goal?

Then the slides turn to some examples of choices:

1) [**Giving According to GARP: An Experimental Test of the Consistency of Preferences for Altruism**](https://www.jstor.org/stable/2692289?seq=1#page_scan_tab_contents)

2) [**Grandmothers and Granddaughters: Old-Age Pensions and Intrahousehold Allocation in South Africa**](https://www.jstor.org/stable/3990043?seq=1#page_scan_tab_contents)

3) [**Choices, Values, and Frames**](https://www.worldscientific.com/doi/abs/10.1142/9789814417358_0016)

### MWG 1) Preference and Choice

The starting point for any individual decision problem is a set of possible (mutually exclusive) alternatives from which the individual must choose. This set is denoted by X.

There are two approaches to modeling individual choice behavior:

#### 1) *Preference relation*: 
The theory is developed by first imposing rationality axioms on the decision maker's preferences and then analyzing the consequences of these preferences for her choice behavior. The objectives of the decision maker are summarized in a *preference relation*, which we denote by $\succeq$. This is a binary relation on the set of alternatives X, allowing the comparison of pairs of alternatives x,y $\in$ X. x $\succeq$ y can be read as "x is at least as good as y". From $\succeq$ we can derive two other important relations on X:

  a) the **strict preference** relation: $\succ$, defined by x $\succ$ y $\iff$ x $\succeq$ y but not y $\succeq$ x, and it is read as "x is preferred to y".
  
  b) The **indifference** relation, ~, defined by x ~ y $\iff$ x $\succeq$ y and y $\succeq$ x, and read "x is indifferent to y".
  
$\succeq$ is called rational if it possesses the following properties:

- **Completeness**: $\forall$ x,y $\in$ X, we have that x $\succeq$ y or y $\succeq$ x, or both.

- **Transitivity**: $\forall$ x,y,z $\in$ X, if x $\succeq$ y and y $\succeq$ z, then x $\succeq$ z.

Some implications about $\succeq$'s rationality: 

- $\succ$ is both **irreflexive** (x $\succ$ y never holds) and **transitive** (if x $\succ$ y and y $\succ$ z, then x $\succ$ z).

- ~ is **reflexive** (x ~ x for all x), **transitive** (if x ~ y and y ~ z, then x ~ z), and **symmetric** (if x ~ y, then y ~ x). 

- if x $\succ$ y $\succeq$ z, then x $\succ$ z.

#### 2) *Choice rules*: 
Treats the individual's choice behavior as the primitive feature and proceeds by making assumptions directly concerning this behavior. It imposes an element of consistency on choice behavior, paralleling the rationality assumptions of the preference-based approach. Formally, the choice behavior is represented by means of a *choice structure*. A choice structure ($\mathcal{B}$, C($\circ$)) consists of two ingredients: 

a) $\mathcal{B}$ is a family of nonempty sets of X; that is, every element of $\mathcal{B}$ is a set B $\subset$ X. We call the elements B $\in$ $\mathcal{B}$ *budget sets*. The budget sets should be thought of as an exhaustive listing of all the choice experiments that the institutionally, physically or otherwise restricted social situation can conceivably pose to the decision maker.

b) C($\circ$) is a *choice rule* (technically, it is a correspondence) that assigns a nonempty set of chosen elements C(B) $subset$ B for every budget B $\in \mathcal{B}$. The set C(B) may contain one or more than one element. If it contains just one element, that element is the individual's choice from among the alternatives in B. If it contains more than a single element, the elements of C(B) are the alternatives that the decision maker *might* choose, that is, his/her *acceptable alternatives*.

The choice structure ($\mathcal{B}$, C($\circ$)) satisfies the weak axiom of revealed preference if the following property holds:

If x is ever chosen when y is available, then there can be no budget set containing both alternatives for which y is chosen and x is not. If for some B $\in$ $\mathcal{B}$ with x,y $\in$ B we have x $\in$ C(B), then for any B' $\in$ $\mathcal{B}$ with x,y $\in$ B' and y $\in$ C(B'), we must also have x $\in$C(B'). 

A somewhat simpler statement of the weak axiom can be obtained by defining a *revealed preference relation* $\succeq \ast$ from the observed choice behavior in C($\circ$). Given a choice structure ($\mathcal{B}$,C($\circ$)) the revealed preference relation $\succeq \ast$ is defined by x $\succeq \ast$ y $\iff$ there is some B $\in$ $\mathcal{B}$ such that x,y $\in$ B and x $\in$ C(B). We read x $\succeq \ast$ y as "x is revealed at least as good as y". Informally,  we might also say that "x is revealed preferred to y" if there is some B $\in$ $\mathcal{B}$ such that x,y $\in$ B, x $\in$ C(B) and y $\nexists$ C(B), that is, if x is ever chosen over y when both are feasible. Put simply: *if x is revealed at least as good as y, then y can't be revealed preferred to x*.

**Utility functions**: in economics we often describe preference relations by means of a **utility function**. A utilitiy function u(x) assigns a numerical value to each element in X, ranking the elements of X in accordance with the individual's preferences. A function u: X -> $\mathbb{R}$ is a *utility representing preference relation* $\succeq$ if, $\forall$ x,y $\in$ X, x $\succeq$ y $\iff$ u(x) ≥ u(y). A preference relation can only be represented by a function if it is rational.

#### 3) Relationship between Preference Relations and Choice Rules

Consider the following questions: 

**1)** If a decision maker has a rational preference ordering $\succeq$, do her decisions when facing choices from budget sets in $\mathcal{B}$ necessarily generate a choice structure that satisfies the weak axiom?

Yes! Proof: suppose that an individual has a rational preference relation $\succeq$ on X. If this individual faces a nonempty subset of alternatives B $\subset$ X, her preference-maximizing behavior is to choose any one of the elements in the set: C$\ast$(B,$\succeq$) = {x $\in$ B: x $\succeq$ y for every y $\in$ B}

The elements of C$\ast$(B,$\succeq$) are the decision maker's most preferred alternatives in B. In principle, we could have C$\ast$(B, $\succeq$) = $\varnothing$ for some B; but if X is finite, or if suitable(continuity) conditions hold, then C$\ast$(B,$\succeq$) will be nonempty. From now on, we will consider only preferences $\succeq$ and families of budget sets $\mathcal{B}$ such that C$\ast$(B,$\succeq$) is nonempty for all B $\in$ $\mathcal{B}$. We say that the rational preference relation $\succeq$ *generates* the choice structure ($\mathcal{B}$,C$\ast$($\circ,\succeq$)).

Proposition 1.D.1: suppose that $\succeq$ is a rational preference relation. Then the choice structure generated by $\succeq$ ($\mathcal{B}$,C$\ast$($\circ$,$\succeq$)), satisfies the weak axiom. Proof: suppose that for some B $\in$ $\mathcal{B}$, we have x,y $\in$ B and x $\in$C$\ast$(B,$\succeq$). By the definition of C$\ast$(B,$\succeq$), this implies x $\succeq$ y. To check whether the weak axiom holds, suppose that for some B' $\in$ $\mathcal{B}$ with x,y $\in$ B' we have y $\in$ C$\ast$(B',$\succeq$). This implies that y $\succeq$ z $\forall$ z $in$ B'. But we already know that x $\succeq$ y. Hence, by transitivity, x $\succeq$ z for all z $\in$ B', and so x $\in$ C$\ast$(B',$\succeq$). This is precisely the conclusion the weak axiom demands. So, if the behavior is generated by rational preferences, then it satisfies the consistency requirements of the weak axiom.

**2)** If an individual's choice behavior for a family of budget sets $\mathcal{B}$ is captured by a choice structure ($\mathcal{B}$, C($\circ$)) satisfying the weak axiom, is there necessarily a rational preference relation that is consistent with these choices?

Maybe! Given a choice structure ($\mathcal{B},C(\circ$)), we say that the rational preference relation $\succeq$ rationalizes C($\circ$) relative to $\mathcal{B}$ if **C(B) = C$\ast$(B,$\succeq$)** for all B $\in$ $\mathcal{B}$, that is, if $\succeq$ generates the choice structure ($\mathcal{B},C(\circ)$). In words the rational preference $\succeq$ rationalizes the choice rule C($\circ$) on $\mathcal{B}$ if the optimal cnoices generated by $\succeq$(captured by C$\circ$($\circ$,$\succeq$)) coincide with C($\circ$) for all budget sets in $\mathcal{B}$. In a sense, preferences explain behavior; we can interpret the decision maker's choices as if she were a preference maximizer. Note that in general, there may be more than one rationalizing preference relation $\succeq$ for a given choice structure ($\mathcal{B},C(\circ)$).

The proposition above (1.D.1) implies that the weak axiom must be satisfied if there is to be a rationalizing preference relation. In particular, since C$\ast$($\circ$,$\succeq$) satisfies the weak axiom for any $\succeq$, only a choice rule that satisfies the weak axiom can be rationalized. It turns out that the weak axiom is not sufficient to ensure the existence of a rationalizing preference relation.

### **Recitation: Debreu's Theorem**

#### 1)  What is Debreu’s theorem? Why should we care?

[**Debreu's Theorems**](https://en.wikipedia.org/wiki/Debreu_theorems): In economics, the Debreu theorems are several statements about the representation of a preference ordering by a real-valued function. Any rational and continuous preference relation $\succeq$ on a (separable,
connected) space X can be represented by a continuous utility
function u : X -> $\mathbb{R}$.

This theorem provides (one) justification for using utility functions
when thinking about choice because: a) it links utility function to appealing and simple axioms; b) Much easier, mathematically, to work with utility functions than preference relations.

#### Proof

Considering the special case:

1) X = $\mathbb{R}_+^n$ for some n $\in$ $\mathbb{N}$.

2) $\succeq$ is strictly monotone.

Some definitions:

1) **Rational**: Complete, transitive and reflexive.

2) **Continuous**: the sets U(x) := {y $\in$ X: y $\succeq$ x} and L(x) := {y $\in$ X : x $\succeq$ y} are closed (contain all their limit points).

3) **Strictly monotone**: y ≥ x $\implies$ y $\succ$ x (actually, we only need y ≥ x $\implies$ y $\succeq$ x and y $\gg$ x $\implies$ y $\succ$ x)

#### 2) Overview of proof, and key intuitions

See the proof [**here**](https://gabrielvoelcker.netlify.com/mit/debreu_continuityproof.pdf).

#### 3) Details of proof

#### 4) Concluding thoughts

## **2) Demand Theory**

### **Demand Theory**

Demand theory is an economic principle relating to the relationship between consumer demand for goods and services and their prices in the market. Demand theory forms the basis for the demand curve, which relates consumer desire to the amount of goods available.


#### [**Demand Theory**](https://en.wikipedia.org/wiki/Supply_and_demand): 
Let **X** $\in$ $\mathbb{R}^{L+}$ be the set of possible consumption vectors in a world with L goods. Let **p** $\in$ $\mathbb{R}^{L++}$ be the price vector. Let $B_{p,w}$ be the **budget set** of a consumer with wealth **w**. 

<center> $B_{p,w}$ = {x $\in$ $\mathbb{R}^{L+}$ | $\sum_{i=1}^n$$p_ix_i$ ≤ w}. </center>

The [**utility maximization problem(UMP)**](https://en.wikipedia.org/wiki/Utility_maximization_problem): is the problem consumers face: "how should I spend my money in order to maximize my utility?" It is a type of optimal decision problem. It consists of choosing how much of each available good or service to consume, taking into account a constraint on total spending as well as the prices of the goods. Formally, it can be written as:

$max_{x\in B_{p,w}}$ u(x) or max$_{x\in \mathbb{R^{L+}}}$u(x) such that p $\circ$ x ≤ w.

Comments:

1) (smallness) consumption decisions do not affect prices.

2) linear prices typically justified (loosely) by possibility of resale.

3) no savings.

#### [**Marshallian Demand/Walrasian Demand Correspondence**](https://en.wikipedia.org/wiki/Marshallian_demand_function): 

Specifies what the consumer would buy in each price and income or wealth situation, assuming it perfectly solves the utility maximization problem. Formally: x(p,w): $\mathbb{R}^{L+}$ x $\mathbb{R}$ $\rightrightarrows$ $\mathbb{R}^{L+}$ is defined by: x(p,w) = {z $\in$ $B_{p,w}$|u(z) = $max_{x \in B_{p,w}}u(x)$}. 

#### **Propositions:**

Suppose u is continuous and satisfies local nonsatiation. Then:

1) The UMP problem has at least one solution.

2) x(p,w) is [**homogenous**](https://en.wikipedia.org/wiki/Homogeneous_function) of degree 0, i.e. x($\alpha$p, $\alpha$w) = x(p,w) for all $\alpha$ > 0. This means that if both prices and wealth change in the same proportion ($\alpha$), then the individual's consumer choice doesn't change.

3) x(p,w) satisfies [**Walras’s law**](https://en.wikipedia.org/wiki/Walras%27s_law)([**2**](https://www.youtube.com/watch?v=5pCeeU5Jbbk)), i.e. p $\circ$ z = w for all z $\in$ x(p,w). An implication of Walras' Law is that the consumers budget will be balanced. Walras' Law states that the consumer fully expends his/her wealth over his/her lifetime.

4) If u is strictly quasi-concave, then x(p,w) is a function, i.e.
each x(p,w) contains a single bundle.

#### [**Kuhn-Tucker**](https://en.wikipedia.org/wiki/Karush%E2%80%93Kuhn%E2%80%93Tucker_conditions) necessary conditions:

In mathematical optimization, the Karush–Kuhn–Tucker (KKT) conditions are **first derivative tests** (sometimes called first-order) necessary conditions for a solution in nonlinear programming to be optimal, provided that some regularity conditions are satisfied. Allowing inequality constraints, the KKT approach to nonlinear programming generalizes the method of [**Lagrange multipliers**](https://en.wikipedia.org/wiki/Lagrange_multiplier), which allows only equality constraints. Similar to the Lagrange approach, the constrained maximization (minimization) problem is **rewritten as a Lagrange function whose optimal point is a saddle point**, i.e. a global maximum (minimum) over the domain of the choice variables and a global minimum (maximum) over the multipliers.

#### The Lagrangian

Imagine the following conditions:

Labor: $20/h

Steel: $2000/ton.

Revenue(h,s) = 100 $h^{2/3} s^{1/3}$

Budget = $20,000 = 20h + 2000S 

$\bigtriangledown	R = \lambda \bigtriangledown	g$

Gradient of R($\bigtriangledown	R$):


\left(\begin{array}{cc} 
\frac{\partial R}{\partial h} \\
\frac{\partial R}{\partial s} 
\end{array}\right)

= 

\left(\begin{array}{cd} 
100 \frac{2}{3}h^{-1/3}s^{1/3} \\
100 \frac{1}{3}h^{2/3}s^{-2/3}
\end{array}\right)
 

Gradient of g($\bigtriangledown	g$):

$$
\left[\begin{array}{cc} 
\frac{\partial g}{\partial h} \\
\frac{\partial g}{\partial s} 
\end{array}\right]

= 

\left[\begin{array}{cc} 
20 \\
2000
\end{array}\right]
$$ 

We get a pair of equations:

$\frac{200}{3} \frac{s^{1/3}}{h^{1/3}} = 20 \lambda$

$\frac{100}{3} \frac{h^{2/3}{s^{2/3}} = 2000 \lambda$


So, suppose *u* is [**continuously differentiable**](https://en.wikipedia.org/wiki/Differentiable_function#Differentiability_and_continuity). If $x^{\ast}$ $\in$ x(p,w) is a solution to the UMP, then $\exists$ a constant $\lambda$ ≥ 0 s.t.

<center> $\frac{du}{dx_i} = \lambda p_i \forall i \in {1,2,...,L}$ with $x_i^{\ast} > 0$ </center>

and

<center> $\frac{du}{dx_i} = \lambda p_i$ $\forall i$ $\in$ {1,2,...,L} with $x_i^{\ast}$ = 0 </center>

The constant $\lambda$ is the "Lagrange multiplier".

Suppose $x^{\ast}$ is an [**interior solution**](https://www.thoughtco.com/what-is-an-interior-solution-4082800), and consider feasible perturbation x where agent spends $\Delta$ less on j and $\Delta$ more on i. [**Taylor's theorem**](https://en.wikipedia.org/wiki/Taylor%27s_theorem) implies: 

<center> u(x') $\approx$ u($x^{\ast}$) + $\frac{\partial u}{\partial x_j}$ u($x^{\ast}$) (-$\frac{\Delta}{p_j}$) + $\frac{\partial u}{\partial x_i}$ ($x^{\ast}$) ($\frac{\Delta}{p_i}$) </center>

Since $x^{\ast}$ maximizes utility, perturbation x' can't increase utility; hence, for small $\Delta$,

<center> $\frac{\partial u}{\partial x_j}$($x^{\ast}$)/$p_j$ ≥ $\frac{\partial u}{\partial x_i}$ ($x^{\ast}$) / $p_i$ </center>

Repeat for x'' where spend $\Delta$ more on j, and $\Delta$ less on i. Hence

<center> $\frac{\partial u}{\partial x_j}$($x^{\ast}$) / $p_j$ = $\frac{\partial u}{\partial x_i}$($x^{\ast}$) / $p_i$ </center>

#### Elasticity of Demand

The definition for the **elasticity of demand with income** is 

<center> $\eta_i$ = $\frac{\partial x_i}{\partial w}$ $\circ$ $\frac{w}{x_i}$ = $\frac{\partial log x_i}{\partial log w}$</center>

The definition for the **elasticity of demand with price** is

<center>$\varepsilon_{ij}$ = $\frac{\partial x_i}{\partial p_j}$ $\circ$ $\frac{p_j}{x_i}$ = $\frac{\partial log x_i}{\partial log p_j}$</center>

An appeal of elasticities is that they are unit-less (though it is important to remember they are evaluated at particular points). Elasticities must satisfy “adding up constraints” implied by [**Walras’
law**](https://en.wikipedia.org/wiki/Walras%27s_law).

**Proposition**: let $s_i$ be the budget share of the good i, $s_i$ = $\frac{p_ix_i(p,w)}{w}$. Then

1) [**Engel aggregation**](https://www.youtube.com/watch?v=BvXVhd9Y3N8): total expenditure must change by an amount equal to any wealth change(no savings!?). Formally: $\sum_{i=1}^n s_i \eta_i$ = 1. The Engel aggregation means that not all goods are luxuries ($\eta_i >1$), or necessities ($\eta_i <1$) or inferior goods ($\eta_i < 0$). **Proof in class**.

2) [**Cournot aggregation**](https://www.youtube.com/watch?v=-hkIadrfNGM): $\sum_{i=1}^n s_i \varepsilon_{ij}$ = -$s_j$. The Cournot aggregation says that the budget share $s_j$ of the good j is small when the good j has many substitutes ($\varepsilon_{ij}$ > 0), and big when it has many complements ($\varepsilon_{ij}$ < 0), or their respective budget shares are large. **Proof in class**.

#### [**Indirect Utility Functions**](https://en.wikipedia.org/wiki/Indirect_utility_function) and [**2**](https://www.youtube.com/watch?v=O3_It-2KEzU)

In economics, a consumer's **indirect utility function** *v(p,w)* gives the consumer's maximal attainable utility when faced with a vector p of goods prices and an amount of income w. It reflects both the consumer's preferences and market conditions.

This function is called indirect because consumers usually think about their preferences in terms of what they consume rather than prices. A consumer's indirect utility v(p, w) can be computed from his or her utility function u(x), defined over vectors x of quantities of consumable goods, by first computing the most preferred affordable bundle, represented by the vector x(p, w) by solving the utility maximization problem, and second, computing the utility u(x(p, w)) the consumer derives from that bundle. The resulting indirect utility function is

<center>**v(p,w) = u(x(p,w))**</center>

##### **Properties**

1) Continuous on $\mathbb{R}_+^n$ x $\mathbb{R}_+$ where *n* is the number of goods;

2) Decreasing in prices;

3) Strictly increasing in income

4) [**Homogenous**](https://en.wikipedia.org/wiki/Homogeneous_function) with degree zero in prices and income; if prices and income are all multiplied by a given constant the same bundle of consumption represents a maximum, so optimal utility does not change;

5) quasi-convex in (p,w).

So, formally the **indirect utility function** v(p,w): $\mathbb{R}^L$ x $\mathbb{R}$ $\rightrightarrows \mathbb{R}$ is defined by: 

v(p,w) = max$_{x \in B_{p,w}}$ u(x)

Alternatively, this is v(p,w) = u(x(p,w)) if x(p,w) is a function or v(p,w) = u($x^{\ast}$) for some $x^{\ast}$ $\in$ x(p,w).

#### [**Theorem of the Maximum**](https://en.wikipedia.org/wiki/Maximum_theorem)

The maximum theorem provides conditions for the continuity of an optimized function and the set of its maximizers with respect to its parameters.

So, formally: given A $\subset$ $\mathbb{R}^N$ and the closed set Y $\subset$ $\mathbb{R}^K$, the correspondence f: A $\rightrightarrows$ Y is **upper hemicontinuous** if it has a closed graph and images of compact sets are bounded.

- **Closed graph**: for any two sequences $x^m$ -> x and $y^m$ -> y with $x^m$ $\in$ A and $y^m$ $\in$ f($x^m$) $\forall$ m, then y $\in$ f(x).

- Images of compact sets are bounded: for every compact set B $\subset$ A, the set f(B) = {y $\in$ Y : y $\in$ f(x) for some x $\in$ B} is bounded.

##### [**Hemicontinuity**](https://en.wikipedia.org/wiki/Hemicontinuity)

In mathematics, the notion of the continuity of functions is not immediately extensible to **multivalued mappings** or correspondences between two sets A and B. The dual concepts of upper hemicontinuity and lower hemicontinuity facilitate such an extension. Roughly speaking, a function is upper hemicontinuous when a convergent sequence of points in the domain maps to a sequence of sets in the range which contain another convergent sequence, then the image of limiting point in the domain must contain the limit of the sequence in the range. Lower hemicontinuity essentially reverses this, saying if a sequence in the domain converges, given a point in the range of the limit, then you can find a sub-sequence whose image contains a convergent sequence to the given point.

**Lower Hemicontinuity**: A correspondence Γ : A → B is said to be lower hemicontinuous at the point a if for any open set V intersecting Γ(a) there exists a neighbourhood U of a such that Γ(x) intersects V for all x in U. (Here V intersects S means nonempty intersection V $\cap$ S ≠ $\varnothing$.

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("1.png")
 grid.raster(img)
```

So, given A $\subset$ $\mathbb{R}^n$ and the compact set Y $\subset$ $\mathbb{R}^K$, the correspondence f: A $\rightrightarrows$ Y is **lower hemicontinuous** if $\forall x^m$ -> $x \in A$ with $x^m \in A$ for all *m*, and $y \in f(x)$, we can find a sequence $y^m$ -> y and an integer M such that $y^m \in f(x^m)$ for m > M.

Given the function **f**, we say that it is lower hemicontinuous correspondence iff it is continuous. If a correspondence is both upper and lower hemicontinuous, we say it is continuous.

<center> max *f*: $\mathbb{R}^N$ -> R subject to x $\in$ C(q) </center>

C(q) is a nonempty constraint set and q $\in$ Q belongs to an admissible set Q $\in$ $\mathbb{R}^S$. Suppose *f* is continuous and C(q) is compact for every q $\in$ Q. We already know that there exists a solution. When is the solution “continuous”, when is the objective function “continuous”? Let x(q) be the set of solutions and v(q) be the associated maximum value.

**Theorem**: suppose that f($\circ$) is a continuous function and the constraint correspondence C: Q $\rightrightarrows$ $\mathbb{R}^N$ is continuous. Then the maximizer correspondence x: Q $\rightrightarrows$ $\mathbb{R}^N$ is upper hemicontinuous and the value function v: Q -> $\mathbb{R}$ is continuous.

#### [**Expenditure Minimization Problem**](https://en.wikipedia.org/wiki/Expenditure_minimization_problem)

In microeconomics, the expenditure minimization problem is the dual of the utility maximization problem: "how much money do I need to reach a certain level of happiness?". This question comes in two parts. Given a consumer's utility function, prices, and a utility target,

- how much money would the consumer need? This is answered by the expenditure function.

- what could the consumer buy to meet this utility target while minimizing expenditure? This is answered by the Hicksian demand function.

So, formally: the EMP is:

<center> $min_{x \in \mathbb{R}^{L^+}}$  p $\circ$ x s.t.u(x) ≥ $u_0$ </center>

or

$min_{x \in C_{u_0}}$ p $\circ$ x where $C_{u_0}$ = {z $\in$ $\mathbb{R}_L^+|u(z)$ ≥ $u_0$} 

which is the minimum level of wealth required to achieve utility $u_0$.

**Proposition**: Suppose u(x) is a continuous utility function satisfying local nonsatiation and p $\gg$ 0. Then the solution to the EMP is related to the solution to the UMP by a **basic duality result**:

1) If $x^{\ast}$ is a solution to the UMP with wealth w, then $x^{\ast}$ is a solution to the EMP with utility u($x^{\ast}$).

2) If $x^{\ast}$ is a solution to the EMP with utility $u_0$, then $x^{\ast}$ is a solution to the UMP with wealth p · $x^{\ast}$

The EMP is used mostly to define two functions:

1) [**Expenditure Function**](https://en.wikipedia.org/wiki/Expenditure_function): gives the minimum amount of money an individual needs to spend to achieve some level of utility, given a utility function and the prices of the available goods. So, formally: e: $\mathbb{R}^{L+}$ x $\mathbb{R}$ -> $\mathbb{R}$ is defined by

<center> e(p,u) = $min_{x \in \mathbb{R}^{L+},s.t. u(x)≥u}$ p $\circ$ x or $min_{x \in C_u}$ p $\circ$ x. </center>

2) [**Hicksian Demand Correspondence**](https://en.wikipedia.org/wiki/Hicksian_demand_function): a consumer's Hicksian demand correspondence is the demand of a consumer over a bundle of goods that minimizes their expenditure while delivering a fixed level of utility. If the correspondence is actually a function, it is referred to as the Hicksian demand function, or compensated demand function. So, formally: h: $\mathbb{R}^{L+}$ x $\mathbb{R}$ $\rightrightarrows$ $\mathbb{R}^{L+}$ is defined by

<center> h(p,u) $\equiv$ {z $\in$ $\mathbb{R}^{L+}$|p$\circ$z = e(p,u) and u(z) ≥ u} </center>

or

<center> h(p,u) $\equiv$ arg $min_{z \in C_u}$ p$\circ$z </center>

<center> h(p,u) $\equiv$ {z $\in \mathbb{R}^{L+}|z$ solves EMP at price utility u} </center>

The Hicksian demand is often called the compensated demand function. This is due to the fact that h(p,u) = x(p,e(p,u)), or the Hicksian demand can be used to answer: “how would demand change if we change prices from p to p' 0 **and** give whatever compensation is necessary so the utility level is unchanged.”

**Calculating Hicksian demands**: FOCs for calculating Hicksian demands are: 

<center> $p_i$ = $\lambda \frac{du}{dx_i}$(h(p,u)) if $h_i$(p,u) > 0 </center>

<center> $p_i$ ≥ $\lambda \frac{du}{dx_i}$ (h(p,u)) if $h_i$(p,u) = 0 </center>

Basic properties of the Hicksian demands: suppose u is a continuous utility function satisfying local nonsatiation. Then, the expenditure function e(p, u) is

1) homogenous of degree 1 in p, i.e. e($\alpha$p, u) = $\alpha$e(p, u)

2) trictly increasing in u and non-decreasing in each $p_i$

3) concave in p

4) continuous in p,u

**Properties of Hicksian Demands**: Suppose u is a continuous utility function satisfying local nonsatiation. Then the Hicksian demand correspondence h(p, u) satisfies:

1) h is [**homogenous**](https://en.wikipedia.org/wiki/Homogeneous_function) of degree 0 in p, i.e. h($\alpha$p,u) = h(p,u), $\forall \alpha,p,u

2) No excess utility property: u(x) = u $\forall$ x $\in$ h(p,u)

3) If u is strictly  quasi-concave, then each h(p, u) contains a
single element, i.e. h(p, u) is a function.

Notes: 

1) is a little different from Walrasian demand. That was homogenous of degree 0 in p and x. Here if we just multiple p and keep u constant, budget is implicitly multiplied.

2) is like Walras’s Law. If x gives extra utility you could have
bought less.

[**Compensated Law of Demand**](https://en.wikipedia.org/wiki/Hicksian_demand_function): One new result we get with Hicksian demand is the Compensated Law of Demand. Suppose *u* is a continuous s, strictly quasiconcave utility function
satisfying local nonsatiation, then for all p' and p'', we have

<center> (p'' - p')$\circ$[h(p'',$u_o$) - h(p',$u_0$)] ≤ 0 </center>

This says that in some weighted average, the demand goes down for products that have gone up in price.

**Corollary**: if $p_i$ increases and all other goods' prices are unchanged, then the Hicksian demand for good i decreases, i.e. $h_i$(p',$u_0$) ≤ $h_i$(p,$u_0$) if $p_i'$ > $p_i$ and $p_j'$ > $p_j$, $\forall j ≠ i$.

**Proposition**: suppose u is a continuous, strictly quasiconcave utility function satisfying local nonsatiation. Then for i = 1, 2, ..., L, we have:

<center> $h_i(p,u)$ = $\frac{d}{dp_i}$e(p,u) </center>

There are a few ways to prove this result. We will use the [**Envelope Theorem**](https://en.wikipedia.org/wiki/Envelope_theorem).

**Corollary**: suppose u is continuous, quasi-concave and satisfies local
nonsatiation and h is continuously differentiable. Then $\frac{\partial h_i}{\partial p_j}$ = $\frac{\partial h_j}{\partial p_i}$

[**Envelope Theorem**](https://en.wikipedia.org/wiki/Envelope_theorem):  is a result about the differentiability properties of the objective function of a parameterized optimization problem. As we change parameters of the objective, the envelope theorem shows that, in a certain sense, changes in the optimizer of the objective do not contribute to the change in the objective function. The envelope theorem is an important tool for comparative statics of optimization models. So, formally, we start with the simple version:

Let $\phi$($\alpha$) = $max_{x \in \mathbb{R}^L}$ f(x;$\alpha$). Suppose $\phi$ is differentiable at $\overline{\rm \alpha}$ and f(x;$\alpha$) is uniquely maximized at x($\overline{\rm \alpha}$). Then

<center> $\frac{d \phi}{d \alpha_i}$ = $\frac{\partial f}{\partial \alpha_i}$(x($\overline{\rm \alpha}$);$\overline{\rm \alpha}$) </center>

**Proof**: follows directly from the chain rule:

<center>$\frac{d \phi}{d \alpha_i}$ = $\frac{\partial f(x(\overline{\rm \alpha});\overline{\rm \alpha})}{\partial \alpha_i}$ + $\sum_{j = 1}^L$ $\frac{\partial f}{\partial x_j}$ (x($\overline{\rm \alpha}$);$\overline{\rm \alpha}$)$\frac{\partial x_j}{\partial \alpha_i}(\overline{\rm \alpha})$ = $\frac{\partial f (x(\overline{\rm \alpha});\overline{\rm \alpha})}{\partial \alpha_i}$ </center>

as the second term drops out since x($\overline{\rm \alpha}$) maximizes f.

##### [**Slutsky Substitution**](https://en.wikipedia.org/wiki/Substitution_effect): 

If income is altered in response to the price change such that a new budget line is drawn passing through the old consumption bundle but with the slope determined by the new prices and the consumer's optimal choice is on this budget line, the resulting change in consumption is called the Slutsky substitution effect. The idea is that the consumer is given enough money to purchase her old bundle at the new prices, and her choice changes are seen.

So, Slutsky thought about compensation a little differently. Instead of just giving enough to achieve the same utility, imagine giving $\Delta$ p $\circ$ x so people can afford same bundle. This usually makes them strictly better off.

**Definition**: the **Slutsky substition matrix** S(p,w) is the L x L matrix with

<center> $s_{ij}$ = $\frac{\partial x_i}{\partial p_j}$ + $\frac{\partial x_i}{\partial w}$ $x_j$ </center>

This means the change in xi resulting from changing $p_j$ **and** giving consumer wealth $x_jdp_j$ to make old bundle affordable.

What happens to the consumption of good j as the price of good i
rises?

1) change in relative price of the k goods (substitution), and

2) reduction of real income of consumer (income effect)

**Proposition**: Suppose u is continuous, locally nonsatiated, and strictly quasi-concave. Let w = e(p, $u_0$). Then

<center> $\frac{\partial h_i}{\partial p_j}$(p,$u_0$) = $\frac{\partial x_i}{\partial p_j}$(p,w) + $\frac{\partial x_i}{\partial w}$(p,w)$x_j$(p,w) = $s_{ij}$ </center>

Rewriting:

<center> $\frac{\partial x_i}{\partial p_j}$(p,w) = $\frac{\partial h_i}{\partial p_j}$(p,$u_0$) - $\frac{\partial x_i}{\partial w}$(p,w)$x_j$(p,w) </center>

The first element after the = is the relative price effect, the second is the real income effect.

**Corollary**: Under the conditions above, the Slutsky substitution matrix is **symmetric** and **negative semi-definite**.

**Symmetry**: can understand why same sign: if rise in price of good i causes demand for good j to rise, then j is in some sense substituting for i. If j substitutes for i, then i must substitute for j. No easy intuition for why they are equal: if 1 cent rise in price of good i means a fall in demand for good j of 10 units, then a 1 cent rise in price of good j means a fall in demand for good i of 10 units.

We saw how h(p, u) is the derivative with respect to p of the EMP’s value function e(p, u). Do not have exact same statement for UMP because Walrasian demand is an ordinal concept.

Do not have exact same statement for UMP because Walrasian demand is an ordinal concept.

[**Roy's Identity**](https://en.wikipedia.org/wiki/Roy%27s_identity): is a major result in microeconomics having applications in consumer choice and the theory of the firm. The lemma relates the ordinary (Marshallian) demand function to the derivatives of the indirect utility function. Specifically, denoting the indirect utility function as v(p,w),} the Marshallian demand function for good i can be calculated as 

<center> $x_i^m$ = $\frac{\frac{\partial v}{\partial p_i}}{\frac{\partial v}{\partial w}} </center>

where p is the price vector of goods and *w* is income. So, it provides analogous result when we normalize utility by marginal utility of wealth.

Suppose that u($\circ$) is continuous utility function and preferences are locally nonsatiated and strictly convex. Suppose that the indirect utility function is differentiable at ($p^{\ast},w^{\ast}$) $\gg$ 0. Then for every i = 1, ..., L,

<center>$x_i(p^{\ast},w^{\ast})$ = -$\frac{\partial v (p^{\ast},w^{\ast})}{\partial p_i}$ / $\frac{\partial v (p^{\ast},w^{\ast})}{\partial w}$ </center>

<center>
```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("2.png")
 grid.raster(img)
```
</center>

## **3) Putting Consumer Theory to Work**

### 1) Price Changes and Welfare

Central question in applied micro: how do price changes affect welfare? This comes up in various ways:

  1) effects of taxes or subsidies 
  
  2) effects of inflation, e.g. Social Security cost of living increase
  
  3) loses due to monopoly pricing
  
  4) distributional national accounting: do the poor pay more?
  
  5) welfare benefits of innovation
  
**Equivalent variation**
  
**Compensating variation**

### 2) Welfare from new goods

**virtual price**

### 3) Price Indexes

**Laspeyres price index**

**Paasche price index**

**Fisher Ideal Index**

### 4) Choosing functional forms

Usually consumers have demand over many goods, but we want to work with simpler functions. Why?

**Restrict preferences**

**Restrict price movements**

**Restricting price movements:**

### 5) Integrability

Following our earlier discussion of GARP and preferences, one might want to know if a set of demand functions corresponds to utility maximization.

### 6) Estimating demand

So far we’ve studied the properties of a demand functions. Now we are going to provide an overview on how modern applied microeconomists estimate demand.

Two approaches:

- Treat products as primitives

-􏰅 Treat product characteristics as primitives


### 7) Demand aggregation















## **Useful**{.tabset}

### **Course Info**

Prof: [**Parag Pathak**](https://economics.mit.edu/faculty/ppathak)

[**Syllabus 2018**](https://gabrielvoelcker.netlify.com/mit/syllabus_fall2018.pdf)

Required readings:

- [**Microeconomic Theory - MWG**](https://gabrielvoelcker.netlify.com/mit/Mas-Colell,%20Whinston%20&%20Green%20-%20Microeconomic%20Theory.pdf)

- [**Microeconomic Theory Solutions - MWG**](https://gabrielvoelcker.netlify.com/mit/Mas-Colell, Whinston & Green - Solutions Manual for Microeconomics Theory.pdf)

- [**Microeconomic Foundations I - Kreps**](https://gabrielvoelcker.netlify.com/mit/David%20M.%20Kreps-Microeconomic%20Foundations%20I_%20Choice%20and%20Competitive%20Markets-Princeton%20University%20Press%20(2013).pdf)

### **Problem Sets Solutions**{.tabset}

#### **2017**

[**Problem Set 1**](https://gabrielvoelcker.netlify.com/mit/14.121 pset1_solutions_2017.pdf)

[**Problem Set 2**](https://gabrielvoelcker.netlify.com/mit/14.121 pset2_solutions_2017.pdf)

[**Problem Set 3**](https://gabrielvoelcker.netlify.com/mit/14.121 pset3_solutions_2017.pdf)

[**Problem Set 4**](https://gabrielvoelcker.netlify.com/mit/14.121 pset4_solutions_2017.pdf)

[**Problem Set 5**](https://gabrielvoelcker.netlify.com/mit/14.121 pset5_solutions_2017.pdf)

#### **2018**

[**Problem Set 1**](https://gabrielvoelcker.netlify.com/mit/14.121 ps1sol_2018.pdf)

[**Problem Set 2**](https://gabrielvoelcker.netlify.com/mit/14.121 ps2sol_2018.pdf)

[**Problem Set 3**](https://gabrielvoelcker.netlify.com/mit/14.121 ps3sol_2018.pdf)

[**Problem Set 4**](https://gabrielvoelcker.netlify.com/mit/14.121 ps4sol_2018.pdf)

[**Problem Set 5**](https://gabrielvoelcker.netlify.com/mit/14.121 ps5sol_2018.pdf)

[**Problem Set 6**](https://gabrielvoelcker.netlify.com/mit/14.121 ps6sol_2018.pdf)



















#### **2019**

Gabriel Voelcker 14.121 Microeconomic Theory 1

##### Problem Set 1 

1a) **Transitivity**: it is transitive. $\forall$ x,y,z $\in$ X, let x $\succeq$ y and y $\succeq$ z, then x $\succeq$ z implies transitivity. Given that "≥" is transitive in $\mathbb{R}_+$, we can assume that $\forall$ i, $x_i$ ≥ $y_i$ and $y_i$ ≥ $z_i$ and by transitivity we know that for all *i*, $x_i$ ≥ $z_i$, which implies x $\succeq$ z. 

**Completeness**: it is not complete. Proof by contradiction: given k = 2, let x = {4,2} and y = {2,4}. For i = 1, $x_1$ ≥ $y_1$, but for i = 2, $y_1$ ≥ $x_1$. It concludes that $x_i$ > $y_i$ holds for i = 1 but not for i = 2, which leads to $y_i$ > $x_i$. Since neither x $\succeq$ y nor y $\succeq$ x holds, there is a contradiction and $\succeq$ is not complete.

1b) **Reflexive**: $\succ$ is not reflexive. $\forall$ x $\in$ X, to be reflexive it would need for x $\succeq$ x **and** $\neg$ x $\succeq$ x. A statement and its negation cannot be true together, so $\succ$ is not reflexive.

**Transitive**: $\succ$ is transitive. $\forall$ x,y,z $\in$ X. Let x $\succ$ y and y $\succ$ z. So, $\forall$ i, $x_i$ ≥ $y_i$, $y_i$ ≥ $z_i$. Transitivity will hold if $x_i$ ≥ $y_i$ and $y_i$ ≥ $z_i$, then $x_i$ ≥ $z_i$. Knowing that x ≠ y ≠ z, we have x $\succ$ z.

**Symmetry**: $\succ$ is not symmetric. For $\succ$ to be symmetric, we would need x $\succ$ y and y $\succ$ x to hold. Proof by contradiction: let k = 2 and x = {2,2} and y = {1,1}, we would have that x $\succ$ y but y $\succ$ x doesn't hold, so $\succ$ is not symmetric. 

1c) **Reflexive**: ~ it is reflexive. ~ implies that $x$ ≥ $y$ and $y$ ≥ $x$ $\forall$ x,y. Thus x ~ y means that x = y. By definition, it is clear then that x ~ x.

**Transitive**: it is transitive. Let x ~ y and y ~ z, we have that x = y and y = z. We conclude that x = z and that we have transitivity, because x ~ z.

**Symmetry**: it is symmetric. If x ~ y, we have that x = y, so y ~ x.

2a) C(B) is a frequency distribution over the alternatives of B. We have 6 alternatives in B: 

$B_1$ = {x $\succ$ y $\succ$ z}

$B_2$ = {x $\succ$ z $\succ$ y}

$B_3$ = {y $\succ$ x $\succ$ z}

$B_4$ = {y $\succ$ z $\succ$ x}

$B_5$ = {z $\succ$ x $\succ$ y}

$B_6$ = {z $\succ$ y $\succ$ x}

x is preferred to y in half of the budget sets, and vice versa. The same goes for x and z and y and z. So for a stochastic choice function to be *rationalized by preferences*, we must find a probability distribution Pr over the preference relations on X such that for every budget set, the choice rule is precisely the frequency of choices induced by Pr. By assigning to $\frac{1}{6}$ to each budget set, we have a stochastic choice rationalized by preferences.

2b) On this problem, the probabilities assigned to x $\succ$ y, y $\succ$ z and z $\succ$ x are different, $\frac{1}{4}$. So, the possibility of them all happening together should ≤ $\frac{3}{4}$. However, at least one of the 3 preferences always holds, because if x $\succ$ y and y $\succ$ z don't hold, then y $\succ$ x  and z $\succ$ y, and by transitivity we have that z $\succ$ x, so the stochastic choice function is *not rationalized by preferences* since the sum of all the probabilities cannot exceed 1.

2c) $\alpha$ can gravitate only between $\frac{1}{3}$ and $\frac{2}{3}$. Because of transitivity, one of the three preference relations always holds. So the Pr(x $\succ$ y) or Pr(y $\succ$ z) or Pr(z $\succ$ x) has to equal 1. For this to be true at most, Pr(x $\succ$ y) = Pr(y $\succ$ z) = Pr(z $\succ$ x) = $\frac{1}{3}$.

By assigning a value inferior than $\frac{1}{3}$, for ex: $\frac{1}{5}$, the stochastic function ceases to be rationalized by preferences since the $\neg${x,y}, $\neg${y,z} and {z,x} will have Pr of $\frac{4}{5}$, $\frac{4}{5}$ and $\frac{1}{5}$ respectively. 

### **Exams**{.tabset}

[**2015**](https://gabrielvoelcker.netlify.com/mit/2015exam.pdf)

[**2015 solutions**](https://gabrielvoelcker.netlify.com/mit/2015exam_solutions.pdf)

[**2017**](https://gabrielvoelcker.netlify.com/mit/2017_Final Exam.pdf)

[**2018**](https://gabrielvoelcker.netlify.com/mit/examF18_wSOL_sketch.pdf)

## **MWG Takeaways** {.tabset}

### **Chapter 1 - Preference and Choice**

Individual decision problem: given a set of possible and mutually exclusive alternatives, the individual must choose between one of them. 

X: comprehends the set of alternatives. 

x,y: pairs of alternatives in X.

In order to model how individuals make decisions, we have two approaches more commonly used:

#### **1)B) Preference Relations**

In this approach, the objectives of the decision maker are summarized in a **preference relation**, which we denote by $\succeq$. We read x $\succeq$ y as "x is at least as good as y". We can derive two other important relations on the set of alternatives X:

a) The **strict preference** relation, $\succ$, defined by: x $\succ$ y $\iff$ x $\succeq$ y but y $\nsucceq$ x. This is read as "x is preferred to y".

b) The **indifference relation**, ~, defined by: x ~ y $\iff$ x $\succeq$ y $\cap$ y $\succeq$ x. This is read as "x is indifferent to y".

For much of the microeconomic theory, individual preferences are assumed to be rational. For $\succeq$ to be rational, it has to be: complete and transitive. 

- **Completeness**: $\forall$x,y $\in$ X, we have that x $\succeq$ y $\cup$ y $\succeq$ x  $\cup$ both.

- **Transitivity**: $\forall$x,y,z $\in$ X, if x $\succeq$ y $\cap$ y $\succeq$ z $\implies$ x $\succeq$ z.

Having established these two **properties** about preference relations, we identify three implications about sasuming the two properties:

i) $\succ$ is both *irreflexive* (x $\succ$ x never holds) and *transitive*(if x $\succ$ y $\cap$ y $\succ$ z $\implies$ x $\succ$ z). 

ii) ~ is **reflexive**(x ~ x $\forall$ x), **transitive**(if x ~ y $\cap$ y ~ z $\implies$ x ~ z) and **symmetric** (if x ~ y $\implies$ y ~ x).

iii) If x $\succ$ y $\succeq$ z $\implies$ x $\succ$ z.

##### **Utility Functions**

To describe these preference relations, we often use a **utility function**. This function u(x) assigns a numerical value to each element in X, ranking them in accordance to the individual's preferences. The utility function  u: X $\rightarrow$ $\mathbb{R}$ represents the relation $\succeq$ if $\forall$x,y $\in$ X, 

<center> x $\succeq$ y $\iff$ u(x) ≥ u(y) </center>

A preference relation $\succeq$ can only be represented by a utility function only if it is rational. 

#### **1)C) Choice Rules**

Now, the choice behavior itself is the primitive object of the theory. Formally, choice behavior is represented by means of a **structure choice**. A choice structure ($\mathcal{B}$,C(.)) consists of two ingredients:

i) Every element of $\mathcal{B}$ is a set B $\subset$ X. B $\in$ $\mathcal{B}$ is called *budget sets*. B should be regarded as a list of all the choice experiments possible to the decision maker.

ii) C(.) is the choice rule. It assigns a nonempty set of chosen elements C(B) $\subset$ B for every B $\in$ $\mathcal{B}$. The elements of C(B) are the **acceptable alternatives** in B. It can consist of a single element or a set of alternatives.

We also want to impose some restrictions to make the behavior reasonable. Hence, we use the **Weak Axiom of Revealed Preference**. The choice ($\mathcal{B}$,C(.)) satisfies the WARP when: if *x* is ever chosen when *y* is available, then there is no B containing both alternatives in which *y* is chosen and *x* is not. For some B $\in \mathcal{B}$ with x,y $\in$ B we have x $\in$ C(B), then for any B' $\in \mathcal{B}$ with x,y $\in$ B', we must also have x $\in$ C(B'). 

The **revealed preference relation**: given a choice structure ($\mathcal{B}$,C(.)), the RPR $\succeq^\ast$ is defined by: x $\succeq^\ast$ y $\iff$ there is some B $\in \mathcal{B}$ s.t. x,y $\in$ B and x $\in$ C(B).

We read x $\succeq^\ast$ y as *x is revealed at least as good as y*. The RPR $\succeq^\ast$ need not to be either complete or transitive.  

#### **1)D) The relationship between Preference Relations and Choice Rules**

Now we relate the two approaches with two questions:

i) if a decision maker has a preference ordering $\succeq$, do her decisions when facing choices from budget sets in $\mathcal{B}$ necessarily generate a choice structure that satisfies the weak axiom? **Yes!** If $\succeq$ is a rational preference relation, then the choice structure generated by $\succeq$, ($\mathcal{B},C^\ast(.,\succeq)$) satisfies the weak axiom.

ii) If an individual's choice behavior for a family of budget sets $\mathcal{B}$ is captured by a choice structure ($\mathcal{B}$,C(.)) satisfying the weak axiom, is there necessarily a rational preference relation that is consistent with these choices? **Maybe!** Given a choice structure ($\mathcal{B}$,C(.)), we say that the rational preference relation $\succeq$ *rationalizes C(.)* relative to $\mathcal{B}$ if: C(B) = $C^\ast$(B,$\succeq$) $\forall$ B $\in \mathcal{B}$, that is, if $\succeq$ generates the choice structure ($\mathcal{B}$,C(.)). So the weak axiom is not sufficient to ensure the existence of a rationalizing preference relation.

### **Chapter 2 - Consumer Choice**

#### Chapter 2 - Consumer Choice

**What we deal with:**

- **Commodities**: the objects of choice for the consumer.
- **Consumption set**: physical constraint that limit the consumer's choices.
- **Walrasian budget set**: economic constraints.
- **Walrasian demand function**: the consumer's choice rule.
- **Weak axiom of revealed preferences**.

The most important part of the microeconomic theory is the **consumer**. It is the decision unit. So we study the **consumer demand** in terms of the market economy, which is a setting in which the goods and services  are available for purchase at known prices. 

#### 2.B) Commodities

The decision problem of the consumer is: choose how much he wants to consume from various goods and services. These are called **commodities**. A **commodity vector** is a list of amounts of the different commodities:

$$\left[\begin{array}{cc} 
x_1 \\
... \\
... \\
x_n
\end{array}\right]$$

Rigorously: bread today ≠ bread tomorrow.

#### 2.C) The Consumption Set

The **consumption set** comprehends all the consumption bundles the individual can consume given the constraints he faces. It is a subspace of the commodity space $\mathbb{R}^L$, where L denotes the number of commodities that can be consumed. X $\subset$ $\mathbb{R}^L$ denotes the consumption set. The simplest form of consumption set is:

\[ X = \mathbb{R}^L_+ = {x \in \mathbb{R}^L : x_l ≥ 0 for \mathcal{l} = 1,...,L} \]

It denotes the set of all nonnegative bundles of commodities. It is **convex**. That means: given x,x' $\in$ $\mathbb{R}^L_+$, the bundle x'' = $\alpha$x + (1 - $\alpha$)x' is also an element of $\mathbb{R}^L_+$ for any $\alpha \in [0,1]$.

#### 2.D) Competitive Budgets

The consumer has constrains when consuming. One of the most important ones is the **affordability**. To introduce it, we formalize two assumptions:

1) The *L* commodities are traded in the market at dollar prices that are publicly quoted.

$$p = \left[\begin{array}{cc} 
p_1 \\
... \\
... \\
p_n
\end{array}\right] \in \mathbb{R}^L$$

2) **Price-taking assumption**: the consumer can't influence prices.

The affordability of a consumption bundle then depends on two things: p(prices) and w(consumer's wealth). For the consumption bundle *x*, we have:

 $px = p_1x_1 + ... + p_Lx_L ≤ w$

**Competitive budget set ($B_{p,w})**: is the set of all feasible consumption bundles for the consumer who faces market prices *p* and has wealth *w*. $B_{p,w}$ = $\{x \in \mathbb{R}^L_+: px ≤ w \}$. 

**Consumer's Problem**: given prices *p* and wealth *w*, the consumer has to choose a consumption bundle from $B_{p,w}$. The set in which **p x = w** is called the **budget hyperplane**. It is the **upper boundary of the budget set**. The budget hyperplane reflects how the **exchange** of commodities work. 

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("10.png")
 grid.raster(img)
```

The above figure illustrates the geometric relationship between p and the budget hyperplane.

#### 2.E) Demand Functions and Comparative Statics

You can have **more than one** Walrasian Demand Correspondence. That is, **any consumption bundle x(p,w) might be chosen** by the consumer when he faces price-wealth pair (p,w). When x(p,w) is single-valued, we refer to it as a *demand function*. 

**Homogeneous of degree zero**: if both prices(p) and wealth(w) change in the same proportion, then the individual's consumption choice does not change. Mathematically: x($\alpha$p,$\alpha$w) = x(p,w) $\forall$ p,w and $\alpha$ > 0.

**Walras' Law**: the consumer fully expends his wealth. The WDC satistifies Walras' Law if $\forall$ p >> 0 and w > 0, we have px = w $\forall$ x $\in$ x(p,w). 

##### **Comparative Statics**

How does the consumer's choice vary with changes in *w* and *p*? **Comparative Statics** analyzes how a change in the economic parameters affects the outcome.

**Wealth effects:** 

- **Engel function**: given fixed prices $\overline{\rm p}$, the image in $\mathbb{R}^L_+$, $E_{\overline{\rm p}}$ = $\{ x(\overline{\rm p},w): w > 0\}$ is known as the wealth expansion path:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("11.png")
 grid.raster(img)
```

At any (p,w) the derivative $\frac{\partial x_l(p,w)}{\partial w}$ is known as the wealth effect for the *l*$_{th}$ good. If this derivative is ≥ 0, the commodity is *normal* at (p,w). That is, the demand is nondecreasing in wealth. If every commodity at (p,w) is normal, then the **demand is normal**. Matrix wise, the wealth effects can be represented as:

$$D_w x(p,w) = \left[\begin{array}{cc} 
\frac{\partial x_1 (p,w)}{\partial w} \\
\frac{\partial x_2 (p,w)}{\partial w} \\
... \\
\frac{\partial x_L (p,w)}{\partial w}
\end{array}\right] \in \mathbb{R}^L$$

As w varies, how does it affect demand?

**Price effects:** complementing: how the consumption levels are affected when **prices** vary? The derivative $\frac{\partial x_l(p,w)}{\partial p_k}$ denotes the **price effect** of $p_k$, the price of good *k* on the demand for good $l$. 

##### Implications of Homogeneity and Walras' Law for Price and Wealth Effects

- **Homogeneity of degree zero**: we know that x($\alpha p$, $\alpha w$) - x(p,w) = 0 $\forall \al \alpha$ > 0. This implies that the price and wealth derivatives of demand for any good $l$, when weighted by these prices and wealth, sum to zero. We arrive at the results of propositon 2E1, that will eventually state the implications of homogeneity of degree zero for comparative statics: 

\[ \sum_{k=1}^L \frac{\partial x_l (p,w)}{\partial p_k}p_k + \frac{\partial x_l(p,w)}{\partial w}w = 0  \]

For $l$ = 1,...,L. In matrix, this is: $D_p x(p,w)p$ + $D_w x(p,w)w$ = 0.

If we think in terms of the elasticities:

\[ \varepsilon_{lk}(p,w) = \frac{\partial x_l(p,w)}{\partial p_k} \frac{p_k}{x_l(p,w)} \]

\[ \varepsilon_{lw}(p,w) = \frac{\partial x_l(p,w)}{\partial p_w} \frac{p_w}{x_l(p,w)} \]

These two equations give the *percentage* change in **demand for good $l$** per (marginal) percentage change in the price of good *k* or wealth; note that the expression for $\varepsilon_{lw}(.,.)$ can be read as $(\frac{\Delta x}{x})$/$(\frac{\Delta w}{w})$. If we apply the elasticities to the formula from proposition 2E1 we arrive at:

\[ \sum_{k=1}^L \varepsilon_{lk}(p,w) + \varepsilon_{lw}(p,w) = 0 \] 

For $l$ = 1,...,L. This expresses the comparative statics implication of homogeneity of degree zero: an equal % change in all prices and wealth leads to no change in demand.

- **Walras' Law**: we know that px(p,w) = w $\forall p,w$. Differentiating this with respect to price yields the proposition 2E2: If the Walrasian demand function x(p,w) satisfies Walras' Law, then $\forall p,w$:

\[ \sum_{l=1}^L p_l \frac{\partial x_l(p,w)}{\partial p_k} + x_k(p,w) = 0 \] 

For k = 1,...,L. This is called the **property of Cournot aggregation**: the total expenditure can't change in response to a change in prices. When we differentiate with respect to w, we get to proposition 2E3: If the Walrasian demand function x(p,w) satisfies Walras' Law, then $\forall p,w$: 

\[ \sum_{l=1}^L p_l \frac{\partial x_l(p,w)}{\partial w} = 0 \]

Which is called the **property of Engel aggregation**: total expenditure must change by an amount equal to any wealth change.

#### 2.F) The Weak Axiom of Revealed Preference and the Law of Demand

What are the implications of WARP(1C) for consumer demand? 

**Definition 2F1**: the Walrasian demand function x(p,w) satisfies the WARP if the following holds for any (p,w) and (p',w'):

\[ if \, px(p',w') ≤ w \, \cap \, x(p'.w') ≠ x(p,w) \implies p' x(p,w) > w'  \]

This relates to the definition of WARP in 1C. Translating into the consumer demand setting: if px(p',w') ≤ w and x(p',w') ≠ x(p,w), then we know that when facing prices *p* and wealth *w*, the consumer will choose x(p,w) even though x(p',w') was also available. So, when consumer chooses x(p',w'), then the bundle x(p,w) must not be affordable. That is, as required by WARP, we must have p'x(p,w) > w'. 

##### **Implications of WARP**

Price changes affect the consumer in two ways: 1) they alter the relative cost of different commodities; 2) they change the consumer's *real* wealth. We need to isolate the increase in price of a commodity to understand its impact in the consumers' wealth. 

**Slutsky's Wealth Compensation**: imagine a change in prices accompanied by a change in wealth in order that the original consumption bundle is just affordable at the new prices. So if the initial choice was x(p,w) and p $\rightarrow$ p', then the consumer's wealth is adjusted to w' = p'x(p,w). The wealth adjustment is $\Delta w$ = $\Delta p$x(p,w). This compensated price change is illustrated by:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("12.png")
 grid.raster(img)
```

We refer to price changes that are accompanied by such compensating wealth changes as (Slutsky) compensated price changes. We can show that the weak axiom can also be staed in terms of the demand response to compensated price changes:

**Proposition 2F1**: suppose that the Walrasian demand function x(p,w) is homogeneous of degree zero and satisfies Walras' law. Then x(p,w) satisfies the weak axiom only if **for any compensated $\Delta p$ from an initial (p,w) to a new (p',w') = (p',p'x(p,w)) we have:

\[ (p'-p)[x(p',w') - x(p,w)]  ≤ 0 \]

with strict inequality whenever x(p,w) ≠ x(p',w'). This inequality (2F1) can be interpreted as a form of the **law of demand**: *demand and price move in opposite directions*. It tells us that the law of demand holds for *compensated* price changes. We call it the **compensated law of demand**. 

For ex: imagine the $p_l$ changes, what's the effect on demand? We have $\Delta p$ = (0,...,0,$\Delta p$,0,...,0). Since $\Delta p$ $\Delta x$ = $\Delta p_l$ $\Delta x_l$. The proposition 2F1 tells us that if $\Delta p_l$ > 0, then we must have $\Delta x_l$ < 0. This is illustrated by: 

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("13.png")
 grid.raster(img)
```

The first figure shows how the budget line rotates when a decrease in price of the good 1 is compensated. The second figure has no compensation, so the demand for good 1 can fall.

**Slutsky's Matrix**: its elements are known as *substitution effects* because the term $s_{lk}(p,w)$ mesaures the differential change in the consumption of commodity *l* due to a differential change in the price of commodity *k* when wealth is adjusted so that the consumer can still just afford his original consumption bundle. To arrive at Slutsky's matrix: start at a (p,w) and suppose a differential chance in prices *dp*. Imagine that we make this a compensated price change by giving the consumer compensation of *dw* = *x(p,w)dp* (which is the differential analog of $\Delta w$ = x(p,w)$\Delta p$). By 2F1, we know that dp dx ≤ 0. The differential change in demand induced by this compensated price change is: 

\[ dx = D_px (p,w)dp + D_w x(p,w)dw\]

Which is

\[ dx = D_p x(p,w)dp + D_w x(p,w)[x(p,w)dp] \]

or equivalently, in a matrix format:

\[ dx = [D_px(p,w) + D_wx (p,w)x(p,w)^T] dp\]

Using the dx above and plugging it into dp dx ≤ 0, we have:

\[ dp [D_px(p,w) + D_wx (p,w)x(p,w)^T] dp ≤ 0 \]

The expression in the middle of brackets is the following matrix:

$$S(p,w) = \left[\begin{array}{cc} 
s_{11} & \dots & s_{1L}(p,w)\\
\vdots & \vdots & \vdots \\
s_{L1}(p,w) & \dots & s_{LL}(p,w)
\end{array}\right]$$

where the ($l$,k)th entry is

\[ s_{lk}(p,w) = \frac{\partial x_l (p,w)}{\partial p_k} + \frac{\partial x_l(p,w)}{\partial w} x_k(p,w) \]

That's how we arrive at the term that measures the differential change in the consumption of commodity $l$ due to a differential change in the price of commodity $k$ when wealth is adjusted so that the consumer can still just afford his original consumption bundle: $s_{lk}(p,w)$. This is summarized in Proposition 2F2:

If a differentiable Walrasian demand function x(p,w) satisfies Walras' Law, Homogeneity of degree zero and the weak axiom, then at any (p,w) the Slutsky matrix S(p,w) satisfies v S(p,w)v ≤ 0 $\forall$ v $\in$ $\mathbb{R}^L$.

Given that the substitution effect of good *l* with respect to its own price is always nonpositive. A matrix that satisfies this is called **negative semi-definite** (see appendix MD). S(p,w) being negative semi-definite implies that $s_{ll}(p,w)≤0$.

Lastly, Proposition 2.F.3. states that: when the Walrasian demand function x(p,w) is differentiable, homogeneous of degree 0 and satisfies Walras' Law, then p S(p,w) = 0 and S(p,w)p = 0 $\forall$(p,w). This proposition implies that S(p,w) is always singular $\implies$ the negative semidefiniteness can't be extended to negative definiteness.

**Summarizing 2F:**

i) The consistency requirement of WARP is equivalent to the compensated law of demand.

ii) The compensated law of demand, in turn, implies negative semidefiniteness of the substitution matrix S(p,w).

iii) These assumptions do not imply symmetry of S(p,w), except when L = 2.

### **Chapter 3 - Classical Demand Theory**

#### **Chapter 3**

Preference-based approach to consumer demand:

B) Consumer's relation and basic properties(monotonicity{LNS} and convexity).

C) Continuity properties of utility funcions that represent the consumer's preferences.

D) Consumer's problem framed as utilitiy maximization problem (price-taking assumption) focus on: consumer's optimal choice(embodied in the Walrasian demand correspondence) and the consumer's optimal utility value (captured by indirect utility function).

E) Expenditure minimization problem. 

F) mathematical underpinnings of duality theory.

G) Results of demand theory: connect demand and value functions.

H) Integrability problem.

I) Start welfare analysis.

J) Strong axiom of revealed preference.

#### 3.B) Preference Relations: Basic Properties

We start by specifying the consumer's preferences given the bundles in the consumption set X $\subset$ $\mathbb{R}_+^L$. We assume that the consumer's preferences are captured by $\succeq$ that is rational (i.e. complete and transitive). We use another two assumptions about preferences:

**i) Desirability**: larger amounts $\succeq$ smaller amounts. It is called **monotone** if x $\in$ X and y $\gg$ x implies that y $\succeq$ x. It is **strongly monotone** y $\gg$ x and y ≠ x. This implies that we are talking about "goods" rather than "bads". 

**Definition 3B3**: the preference relation $\succeq$ on X is **locally nonsatiated** if $\forall$ x $\in$ X and every $\varepsilon$ > 0, there is y $\in$ X such that ||y - x|| ≤ $\varepsilon$ and y $\succ$ x. 

**Indifference set** containing point x is the set of all bundles that are indifferent to x, formally it is {y $\in$ X: y ~ x}.

**Upper contour set** of bundle x is the set of all bundles that are at least as good as x:{y $\in$ X: y $\succeq$ x}.

**Lower contour set** of x is the set of all bundles that x is at least as good as {y $\in$ X: x $\succeq$ y}.

**ii) Convexity assumptions**: concerns the trade-offs that the consumer is willing to make. Definition 3B4: the preference relation $\succeq$ on X is *convex* if for every x $\in$ X, the upper contour set {y $\in$ X: y $\succeq$ x} is convex; that is, if y $\succeq$ x and z $\succeq$ x, then $\alpha$y + (1 - $\alpha$)z $\succeq$ x for any $\alpha$ $\in$ [0,1]. 

Convexity is a strong but central hypothesis in economics. It can be interpreted in terms of **diminishing marginal rates of substitution**: with convex preferences from any initial consumption situation x, and for any two commodities, it takes increasingly larger amounts of one commodity to compensate for successive unit losses of the other. Convexity can also be viewed as the formal expression of a basic inclination of economic agents for diversification.  

It is common to focus on preferences for which it is possible to deduce the consumer's entire preference relation from a single indifference set. Two examples are the classes of **homethetic** and **quasilinear** preferences.

**Homothetic**(3B6): a monotone preference relation $\succeq$ on X = $\mathbb{R}_+^L$ is *homothetic* if all indifference sets are related by proportional expansion along rays; that is, if x ~ y, then $\alpha$x ~ $\alpha$y $\forall$ $\alpha$ ≥ 0. 

An illustration of homothetic preferences:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("15.png")
 grid.raster(img)
```

**Quasilinear**(3B7): $\succeq$ on X = ($- \infty,\infty$) $\times$ $\mathbb{R}_+^{L-1}$ is quasilinear with respect to commodity 1(aka the **numeraire** commodity) if:

i) If x ~ y, then (x + $\alpha e_1$) ~ (y + $\alpha e_1$) for $e_1$ = (1,0,...,0) and any $\alpha \in \mathbb{R}$. So, all indifference sets are parallel displacements of each other along the axis of commodity 1.

ii) Good 1 is desirable; that is, x + $\alpha e_1 \succeq x$ $\forall x$ and $\alpha > 0$.

An illustration of homothetic preference relation:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("14.png")
 grid.raster(img)
```

As we can see, how much we consume of $x_1$ and $x_2$ have a different impact on the utility function. The more $x_1$, the better. 

#### 3.C) Preference and Utility

It is helpful to summarize the consumer's behavior using a utility function. When can this be done? We begin by introducing the continuity assumption.

**Lexicographic Preference Relation**: assume that X = $\mathbb{R}_+^2$. Given two commodities, the first one has the highest priority in determining the preference order. So, if x $\succeq$ y, then either $x_1 > y_1$ or $x_1 = y_1$ and $x_2 ≥ y_2$. This remembers how the dictionary works. A word beginning with "A" always comes before one that starts with "B", but if both words begin with "A", we turn to the second letter in order to figure out which is ordered first. This preference relation is **not continuous**.

**Continuous Preference Relation**(3C1): in order for a utility function to exist, it has to be **continuous**. Continuity implies that **the consumer's preferences cannot exhibit "jumps"**. Formally, $\succeq$ on X is *continuous* if it is preserved under limits. That is, for any sequence of pairs {($x^n,y^n$)}$_{n=1}^\infty$ with $x^n \succeq y^n$ $\forall n$, x = $lim_{n \rightarrow \infty} x^n$ and y = $lim_{n \rightarrow \infty} y^n$ we have x $\succeq$ y. 

**Continuity of Preference Relation implies Continuity of Utility Function**(3C1): continuity of $\succeq$ is sufficient for the existence of a utility function representation. Pf:

But the utility function is not unique: any strictly increasing transformation of u(.), say v(x) = f(u(x)), where f(.) is a strictly increasing function, also represents $\succeq$. Proposition 3C1 tells us that if $\succeq$ is continuous, there exists some continuous utility function representing $\succeq$. It is possible for continuous preferences not to be representable by a differentiable utility function, for ex: the Leontief preferences. 

Some properties of preferences($\succeq$) can be translated to utility functions(u(.)). For example: **restrictions** on preferences translate into restrictions on the form of utility functions. The property of monotonicity, for example, implies that the utility function is increasing: u(x) > u(y) if x $\gg$ y.

**Quasiconcavity**: a utility function u(.) is quasiconcave if the set ${u \in \mathbb{R}_+^L : u(y) ≥ u(x) }$ is convex $\forall$ x or, if $u(\alpha x + (1 - \alpha)y)$ ≥ Min${u(x), u(y)}$ $\forall x,y$ and $\forall \alpha \in [0,1]$. So, the property of convexity of preferences implies that u(.) is quasiconcave. u(.) is quasiconcave if the set {y $\in$ $\mathbb{R}_+^L$: u(y) ≥ u(x)} is convex for all x or, equivalently, if u($\alpha$x + (1 - $\alpha$)y) ≥ Min{u(x),u(y)} for any x,y and all $\alpha \in$ [0,1].

Monotonicity and convexity of $\succeq$ imply that all utility functions of $\succeq$ are increasing and quasiconcave.  

#### 3.D) Utility Maximization Problem

We assume throughout that the consumer has a rational, continuous and locally nonsatiated preference relation, and we take u(x) to be a continuous utility function representing these preferences. The consumption set is X = $\mathbb{R}^L_+$. The consumer problem is choosing the most preferred bundle given prices p $\gg$ 0 and wealth w > 0, which can now be stated as the *Utility Maximization Problem*(UMP):

\[  Max_{x≥0}u(x) s.t. px ≤ w \]

In the UMP, the consumer chooses a consumption bundle in the Walrasian budget set $B_{p,w}$ {$x \in \mathbb{R}^L_+ : px ≤ w$} to maximize her utility. 

**UMP has a solution**: if p $\gg$ 0 and u(.) is continuous, then the utility maximization problem has a solution. 

Proof: given that the budget set $B_{p,w}$ = {$x \in \mathbb{R}^L_+: px ≤ w$} is a **compact set** because it is both **bounded** and **closed**. Since a **continuous function always has a maximum value on any compact set**, the utility maximization problem has a solution. Given the illustration below, you can have more than one solution:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("16.png")
 grid.raster(img)
```

Given that **every utility function has a solution**, we turn to two problems that emerge from the UMP:

1) The consumer's set of optimal consumption bundles (the solution of the UMP).

2) The consumer's maximal utility value (the value function of the UMP).

##### **Walrasian Demand Correspondence**:

**Walrasian Demand Correspondence**: is the set of optimal consumption vectors in the UMP, denoted by x(p,w) $\in \mathbb{R}_+^L$. x(p,w) can represent a point or have more than one element, as the figure above illustrates. When it is single valued for all (p,w), we refer to it as the **Walrasian demand function**. If u(.) is a continuous utility function, representing a LNS preference relation $\succeq$ defined on the consumption set X = $\mathbb{R}^L_+$, then it has the following properties:

i) **Homogeneity of degree zero** in (p,w): x($\alpha$p, $\alpha$w) = x(p,w) $\forall$p,w, and scalar $\alpha$ > 0.

ii) **Walras' Law**: px = w $\forall$ x $\in$ x(p,w). Total consumption!

iii) **Convexity/uniqueness**: if $\succeq$ is convex, so that u(.) is quasiconcave, then x(p,w) is a convex set. Moreover, if $\succeq$ is **strictly convex**, so that u(.) is **strictly quasiconcave**, then **x(p,w) consists of a single element**. 

See book(pg 52) for Proof of the three properties. 

**Kuhn-Tucker conditions**: if there is a x$\ast$ $\in$ x(p,w) as a solution to the UMP, then there exists a *Lagrange Multiplier* ≥ 0 s.t. $\forall$ l = 1,...,L:

\[ \frac{\partial u(x*)}{\partial c_l} ≤ \lambda p_l   \]

with equality if $x^*_l$ >0.

The gradient vector of u(.) at x is denoted by $\triangledown$u(x) = [$\frac{\partial u(x)}{\partial x_1},...,\frac{\partial u(x)}{\partial x_L}$]. So the above equation could be writen in matrix notation as

\[ \triangledown u(x^{\ast}) ≤ \lambda p\]

and

\[ x^{\ast}[\triangledown u(x^{\ast})- \lambda p] = 0 \]

Thus, if we are at an interior optimum(x $\gg$ 0), we must have

\[ \triangledown u(x^{*}) = \lambda p  \]

This tells us that an interior optimum, the gradient vector of the consumer's utility function $\triangledown$u(x) must be proportional to the price vector *p*. If $\triangledown$u($x^{*}$) $\gg$ 0, this is equivalent to the requirement that for any two goods *l* and *k* we have

\[ \frac{\partial u(x^*)/\partial x_l}{\partial u(x^*)/ \partial x_k} = \frac{p_l}{p_k}    \]

The **marginal rate of substitution** of good *l* for good *k* at $x^*$($MRS_{lk}(x^*)$) is the left side of the equation above. It tells us the amount of good *k* that the consumer must be given to compensate her for a one-unit marginal reduction in her consumption of good *l*.

The $\lambda$ is the **consumer's marginal utility of wealth**. It equals the consumer's marginal utility value of wealth at the optimum. To see this, consider for simplicity the case where x(p,w) is a differentiable function and x(p,w) $\gg$ 0. The change in utility from a marginal increase in *w* is given by $\triangledown$u(x(p,w)) $\circ$ $D_w$x(p,w), where $D_w$x(p,w) = [$\frac{\partial x_1(p,w)}{\partial w},...,\frac{\partial x_L (p,w)}{\partial w}$]. Substituting for $\triangledown$u(x(p,w)) from previous equations, we get:

$\triangledown$u(x(p,w)) $\circ$ $D_w x(p,w)$ = $\lambda p$ $D_w x(p,w)$ = $\lambda$

This holds because px(p,w) = w $\forall$ w (Walras' Law), and therefore p$\circ$ $D_wx(p,w)$ = 1.

Ex 3D1: **The Demand Function Derived from the Cobb-Douglas Utility Function**: A CD for L=2 is given by u($x_1,x_2$) = $kx_1^\alpha x_2^{1-\alpha}$ for some $\alpha \in (0,1)$ and k > 0. It is increasing at all ($x_1,x_2$) $\gg$ 0 and is homogeneous of degree one. It is easier to use the increasing linear transformation $\alpha ln x_1 + (1 - \alpha)ln x_2$ as the utility function. 

\[ Max_{x_1,x_2} \alpha ln x_1 + (1 - \alpha)ln x_2 \]

s.t. $p_1x_1 + p_2x_2$ = w. 

Since ln 0 = -$\infty$, the optimal choice ($x_1(p,w)$), ($x_2(p,w)$) is strictly positive and must satisfy the first-order conditions(we write the consumption levels simply as $x_1,x_2$):

\[ \frac{\alpha}{x_1} = \lambda p_1 \]

\[ \frac{1 - \alpha}{x_2} = \lambda p_2 \]

For some $\lambda$ ≥ 0, and the budget constraint px(p,w) = w.

\[ p_1x_1 = \frac{\alpha}{1 - \alpha}p_2x_2 \]

or

\[ p_1x_1 = \frac{\alpha}{1 - \alpha}(w - p_1x_1) \]

Hence: 

\[ x_1(p,w) = \frac{(1 - \alpha)w}{p_2} \]

In the CD utility function, the expenditure on each commodity is a constant fraction of wealth for any price vector *p*.

##### **Indirect Utility Function** 

**Indirect Utility Function**: is an analytical tool that assesses for each value (p,w) $\gg$ 0, the utility value of the UMP is denoted v(p,w) $\in \mathbb{R}$. It is equal to u($x^*$) $\forall$ $x^* \in x(p,w)$. 

Suppose tht u(.) is a continuous utility function representing a LNS preference relation $\succeq$ defined on the consumption set X = $\mathbb{R}^L_+$. The indirect utility function is:

i) Homogeneous of degree zero.

ii) Strictly increasing in *w* and nonincreasing in $p_l$ for any $l$.

iii) Quasiconvex: the set {(p,w): v(p,w) ≤ $\hat{v}$} is convex $\forall \hat{v}$.

iv) Continuous in *p* and *w*.

#### 3.E) Expenditure Minimization Problem

This section studies the EMP for p $\gg$ 0 and u > u(0): 

\[ Min_{x ≥ 0}\, p x |  u(x) ≥ u \]

The **EMP computes the minimal level of wealth required to reach utility level u**. It is the dual problem to the UMP.  

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("17.png")
 grid.raster(img)
```

The consumption bundle x* is the least costly bundle that still allows the consumer to achieve u. Graphwise, is the point in the set {x $\in$ $\mathbb{R}^L_+$: u(x) ≥ u}. 

**EMP properties**: given that u(.) is a continuous utility function representing a LNS $\succeq$ defined on the consumption set X = $\mathbb{R}_+^L$ and that the price vector is p $\gg$ 0, then:

i) If x\* is optimal in the UMP when wealth is w > 0, then x\* is optimal in the EMP when the required utility level is u(x\*) and the minimized expenditure level in this EMP is exactly w.

ii) If x\* is optimal in the EMP when the required utility level is u > u(0), then x\* is optimal in the UMP when wealth is px\* and the maximized utility level is u.

We now proceed to study the optimal consumption vector and the value function of the EMP. We consider the value function first.

##### **The Expenditure Function**

The **Expenditure Function** is given by e(p,u). It is assumed: *a)* prices p $\gg$ 0; *b)* required utility level u > u(0); *c)* u(.) is a continuous utility function representing a LNS defined on the consumption set X = $\mathbb{R}^L_+$. Its value for any (p,u) is simply px\*, where x\* is any solution to the EMP. The basic properties of the EF are:

i) Homogeneous of degree one in *p*.

ii) Strictly increasing in *u* and nondecreasing in $p_l$ for any $l$.

iii) Concave in p.

iv) Continuous in *p* and *u*.

Connecting the expenditure function and the indirect utility function: $\forall$ p $\gg$ 0, w > 0 and u > u(0), we have

\[ e(p,v(p,w)) = w \, and \, v(p,e(p,u)) = u \]

These conditions imply that for a fixed price vector $\tilde{p}$, $\e(\tilde{p},.)$ and $v(\tilde{p},i)$ are inverses to one another. 

##### **The Hicksian(Compensated) Demand Function**

The set of **optimal commodity vectors in the EMP is denoted h(p,u)** $\subset$ $\mathbb{R}_+^L$, and is known as the **Hicksian(compensated) demand correspondence(function if single valued)**. 

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("18.png")
 grid.raster(img)
```

The Hicksian parallels the Walrasian demand. Given that u(.) is a continuous utility function representing a LNS preference relation $\succeq$ defined on the consumption set X = $\mathbb{R}^L_+$. Then, for any p $\gg$ 0, the Hicksian demand correspondence h(p,u) has the following properties: 

i) Homogeneity of degree zero in p: h($\alpha$p,u) = h(p,u) $\forall$ p,u and $\alpha$ > 0.

ii) **No excess utility**: for any x $\in$ h(p,u), u(x) = u.

iii) **Convexity/uniqueness**: if $\succeq$ is convex, then h(p,u) is a convex set; and if $\succeq$ is strictly convex, so that u(.) is strictly quasiconcave, then there is a unique element in h(p,u).

Just as in the UMP the **optimal consumption bundle in the EMP can be characterized using first-order conditions**. Using proposition 3E1 we can relate the Hicksian and Walrasian demand correspondences as follows: 

\[ h(p,u) = x(p,e(p,u)) \, and \, x(p,w) = h(p,v(p,w))  \]

**Compensated demand correspondence**: as prices vary, h(p,u) gives precisely the level of demand that would arise if the consummer's wealth ere simultaneously adjusted to keep her utility level at u. This is known as the **Hicksian Wealth Compensation**. Let's illustrate:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("19.png")
 grid.raster(img)
```

Starting fromm the the price-wealth pair (p,w), prices change to p', where $p_1'$ = $p_1$ and $p_2'$ > $p_2$. The Hicksian wealth compensation is the amount $\Delta w_{Hicks}$ = e(p',u) - w. Thus, the demand function h(p,u) keeps the consumer's utility level fixed as prices change, in contrast with the Walrasian demand function, which keeps money wealth fixed but allows utility to vary. 

##### **Hicksian Demand and the Compensated Law of Demand**

An important property of Hicksian demand is that it satisfies the **compensated law of demand**: Demand and Price Move in **opposite directions** for price changes that are accompanied by Hicksian wealth compensation. Given u(.) CUF representing a LNS $\succeq$ and that h(p,u) consists of a **single element** $\forall$ p $\gg$ 0. Then the Hicksian demand function h(p,u) satisfies the compensated law of demand: for all p' and p'':

(p'' - p')[h(p'',u)-f(p',u)] ≤ 0.

For more, see Proof and Cobb-Douglas example.

#### 3.F) Duality: A Mathematical Introduction

#### 3.G) Relationships between Demand, Indirect Utility, and Expenditure Functions

#### 3.H) Integrability

#### 3.I) Welfare Evaluation of Changes

#### 3.J) Strong Axiom of Revealed Preferences


### **Chapter 4 - Aggregate Demand**

#### **Chapter 4**

Extends the theory of chapters 1-3 to **aggregate demand**. 3 questions about aggregate demand:

1) When can aggregate demand be expressed as a function of prices and aggregate wealth?(of interest to the econometrician)

2) When does aggregate demand satisfy the weak axiom?(to the positive theorist)

3) When does aggregate demand have welfare significance?(to the welfare theorist)

#### **4B Aggregate Demand and Aggregate Wealth**

Setting: *I* consumers with rational preference relations$\succeq_i$ and corresponding Walrasian demand function $x_i(p,w_i)$. Given prices $p \in \mathbb{R}^L$ and wealth levels ($w_1,...,w_I$).

**Aggregate Demand can be written as**: 

\[ x(p,w_1,...,w_I) = \sum_{i=1}^I x_i(p,w_i) \]

Aggregate demand depends on: *prices* and *wealth levels*. So, when does aggregate demand depends only on aggregate wealth? (so that the above formula becomes: x(p,$\sum_i w_i$)) $\rightarrow$ when however you distribute wealth among consumers is not relevant. If AD can be written as a function of aggregate wealth, then assuming differentiability of the demand functions, we have:

\[ \sum_i \frac{\partial_{li}(p,w_i)}{\partial w_i}dw_i = 0 \text{ for every l} \]

The invariance of the aggregate demand relating to redistribution:

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("23.png")
 grid.raster(img)
```

Implies wealth expansion paths that are straight and parallel across consumers. 

**Proposition 4B1**: a necessary and sufficient condition for the set of consumers to exhibit parallel, straight wealth expansion paths at any price vector *p* is that preferences admit indirect utility functions of the Gorman form with the coefficients on $w_i$ the same for every consumer $i$:

\[ v_i(p,w_i) = a_i(p) + b(p)w_i \]

So, Aggregate Demand can be written as a function of aggregate wealth $\iff$ all consumers have preferences that admit indirect utility functions of the Gorman form with equal wealth coefficients $b(p)$.

When individual wealth levels are generated by a wealth distribution rule, we can indeed *always* write aggregate demand as a function x(p,w) = $\sum_i x_i(p,w_i(p,w))$, and so aggregate demand depends only on prices and aggregate wealth. 

#### **4C Aggregate Demand and the Weak Axiom**

#### **Aggregate Demand and the Existence of a Representative Consumer**

When can we treat the Aggregate Demand function as if it were generated by a fictional *representative consumer*  whose preferences can be used as a measure of aggregate societal (or social) welfare?

This *representative consumer* exists when there is a rational preference relation $\succeq$ on $\mathbb{R}^L_+$ such that the aggregate demand function **x(p,w)** is precisely  the Walrasian demand function generated by this preference relation. That is, x(p,w) $\succ$ x whenever x $\neq$ x(p,w) and px ≤ w. Informally: a positive representative consumer would be one whose utility maximization problem would lead to the economy's aggregate demand function. This is not sufficient. We also need to address the **social welfare function**. 

**Definition 4D2**: a social welfare function is a function W:$\mathbb{R}^I \rightarrow \mathbb{R}$ that assigns a utility value to each possible vector ($u_1,...,u_I$) $\in \mathbb{R}^I$ of utility levels for the *I* consumers in the economy. 

The idea behind this **social welfare function** is that it expresses society's judgements on how individual utilities have to be compared to produce an ordering of possible social outcomes.

**Proposition 4D1**: for each level of prices *p* and aggregate wealth *w*, the wealth distribution solves the social welfare maximization problem. Then the value function v(p,w) is an indirect utility function of a positive representative consumer for the aggregate demand function: $x(p,w) = \sum_i x_i (p,w_i(p,w))$.


**Definition 4D3**: a *normative representative consumer* relative to the social welfare function is the one that for every (p,w), the distribution of wealth ($w_1(p,w),...,w_I(p,w)$) solves the social welfare maximization problem and therefore the value function of this problem is an indirect utility function for $\succeq$. 

### **Chapter 5 - Production**

Transition to the supply side of the economy: **how are the goods and services produced?** We care about: what can the firm do?

#### **5.B - Production Sets**

Setting: *L* commodities. A *production vector* is a vector y = ($y_1,...,y_L$) $\in \mathbb{R}^L$ that describes the (net) outputs of the L commodities from a production process. Positive numbers $\rightarrow$ outputs; Negative numbers $\rightarrow$ inputs.

**Production Set**: is the set of all production vectors that constitute feasible plans for the firm. Denoted by $Y \subset \mathbb{R}^L$. Sometimes we describe Y using a function F(.) called the *transformation function*. The transformation function F(.) has the property that Y = $\{ y \in \mathbb{R}^L : F(y) ≤ 0 \}$ and F(y) = 0 if and only if *y* is an element of the boundary of Y. The set of boundary points of *Y*, $\{ y \in \mathbb{R}^L : F(y) = 0 \}$ is known as the *transformation frontier*. 

If F(.) is differentiable, and if the production vector $\hat{y}$ satisfies F($\hat{y}$) = 0, then for any commodities $l$ and $k$, the ratio:

\[ MRT_{lk}(\hat{y}) = \frac{\frac{\partial F(\hat{y})}{\partial y_l}}{\frac{\partial F(\hat{y})}{\partial y_k}}\] 

Is called the marginal rate of transformation (MRT) of good *l* for good k at $\hat{y}^{-1}$. It denotes if you produce less K, how much more you can produce of L.

##### **Technologies with Distinct Inputs and Outputs**

Sometimes it's convenient to distinguish the firm's inputs and outputs. Notation is used for that. A single-output technology is commonly described by means of a *production function* f(z) that gives the maximum amount q of output that can be produced using input amounts ($z_1,...,z_{L-1}$) ≥ 0. The marginal rate of technical substitution (MRTS) of input *l* for input k at $\hat{z}$ as 

\[ MRTS_{lk} (\hat{z}) = \frac{\frac{\partial f(\hat{z})}{\partial z_l}}{\frac{\partial f (\hat{z})}{\partial z_k}}   \]

If you get one less unit of L how much more K do you need to maintain the level of output equal? The number $MRTS_{lk}(\hat{z})$ measures the additional amount of input K that must be used to keep output at level $\hat{q}$ = f($\hat{z}$) when the amount of input L is decreased marginally. 

##### **Properties of Production Sets**

i) Y is nonempty.

ii) Y is closed. The set includes its boundary.

iii) No free lunch: you can't produce an output without using an input.

iv) Possibility of inaction: complete shutdown is possible.

v) Free disposal: the absorption of any additional amounts of inputs without any reduction in output is always possible. 

vi) Irreversibility.

vii) Nonincreasing returns to scale: any feasible input-output vector can be scaled down.

viii) Nondecreasing returns to scale: any feasible input-output vector can be scaled up.

ix) Constant returns to scale: vii + viii.

x) Additivity(free entry): if y and y' are both possible, then one can set up two plants that do not interfere with each other and carry out production plans independently. 

xi) Convexity.

xii) Y is a convex cone.

**Proposition 5B1**: Y is additive and satisfies the nonincreasing returns condition if and only if it is a convex cone.

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("24.png")
 grid.raster(img)
```

#### **5.C - Profit Maximization and Cost Minimization**

What is the market behavior of the firm? **The firm's objective is to maximize its profit**. There is a vector of prices for the L goods: $p = (p_1,....,p_2) \gg 0$ and these prices are independent from the production of the firm. The firm's maximization problem is: 

\[ Max_y p y \text{s.t. } y \in Y \]

Using a transformation function to describe Y, F(.), we can equivalently state the PMP as

\[ Max_y py \text{s.t. } F(y) ≤ 0  \]

Given a production set Y, the firm's **profit function** $\pi(p)$ associates to every *p* the amount $\pi(p)$ = Max {py:y$\in$Y}, the value of the solution to the PMP. We define the firm's **supply correspondence** at p, denoted y(p), as the set of profit-maximizing vectors y(p) = {y $\in$ Y: py = $\pi$(p)}. The optimizing vector y(p) lies at the point in Y associated with the highest level of profit. In the figure below, y(p) therefore lies on the iso-profit line that intersects the production set farthest to the northeast and is therefore tangent to the boundary of Y at y(p):

```{r ,echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("25.png")
 grid.raster(img)
```

When Y corresponds to a single-output technology with differentiable production function f(z), we can view the firm's decision as simply a choice over its input levels z. In this special case, we shall let the scalar p > 0 denote the price of the firm's output and the vector w $\gg$ 0 denote its input prices. The input vector $z^\ast$ maximizes profit given (p,w) if it solves:

\[ Max_{z≥0} pf(z) - wz \]

If $z^\ast$ is optimal, then the following FOC must be satisfied for l = 1,...,L - 1:

\[ p \frac{\partial f(z^\ast)}{\partial z_l} ≤ w_l \text{with equality if }z_l^\ast ≥ 0\]

**Proposition 5C1**: suppose that $\pi(.)$ is the profit function of the production set Y and that y(.) is the associated supply correspondence. Assume also that Y is closed and satisfies the free disposal property. Then:

i) $\pi(.)$ is homogenenous of degree one.

ii) $\pi(.)$ is convex.

iii) If Y is convex then Y = {y $\in \mathbb{R}^L$: py ≤ $\pi(p)$ for all p $\gg$ 0 }

iv) y(.) is homogeneous of degree zero.

v) If Y is convex, then y(p) is a convex set for all p. Moreover, if Y is strictly convex, then y(p) is single-valued (if nonempty).

vi) (Hotelling's lemma) if y($\hat{p}$) consists of a single point, then $\pi(.)$ is differentiable at $\hat{p}$ and $\triangledown \pi (\hat{p}) = y(\hat{p})$.

vii) If y(.) is a function differentiable at $\hat{p}$, then Dy($\hat{p}$) = $D^2 \pi (\hat{p})$ is a symmetric and positive semidefinite matrix with Dy($\hat{p}$)$\hat{p}$ = 0.

**Law of Supply**: quantities respond in the same direction as price changes: $(p-p') (y - y') ≥ 0$. 

##### **Cost Minimization**

Cost minimization is a necessary condition for profit maximization. This leads to another study: the cost minimization problem. The CMP is:

\[ Min_{z ≥ 0} wz \text{ s.t. } f(z) ≥ q\]

The optimized value of the CMP is given by the **cost function** c(w,q). The corresponding optimizing set of input choices is the **conditional factor demand correspondence** and is denoted by z(w,q). 

**Proposition 5C2**: suppose that c(w,q) is the cost function of a single-output technology Y with production function f(.) and that z(w,q) is the associated factor demand correspondence. Assume also that Y is closed and satisfies the free disposal property. Then:

i)

ii)

iii)

iv)

v)

vi)

vii)

viii)

ix)

Using the cost function, we can now restate the firm's problem of determining its profit-maximizing production level as:

\[ Max_{q≥0} pq - c(w,q) \]

The necessary first-order condition for $q^\ast$ to be profit maximizing is then

\[ p - \frac{\partial c(w,q^\ast)}{\partial q} ≤ 0 \text{ with equality if q}^\ast > 0\]

In words, at an interior optimum (if $q^\ast$ > 0), *price equals margianl cost*. If c(w,q) is convex in q, then the first-order conditions (5C6) is also sufficient for $q^\ast$ to be the firm's optimal output level. 

### **Chapter 10 - Competitive Markets**

#### **10.B - Pareto Optimality and Competitive Equilibria**

#### **10.C - Partial Equilibrium Competitive Analysis**

#### **10.D - The Fundamental Welfare Theorems in a Partial Equilibrium Context**

#### **10.E - Welfare Analysis in the Partial Equilibrium Model**

#### **10.F - Free-Entry and Long-Run Competitive Equilibria**

#### **10.G - Concluding Remarks**

### **Chapter 11 - Externalities and Public Goods**

#### **11.B - A Simple Bilateral Externality**

#### **11.C - Public Goods**

#### **11.D - Multilateral Externalities**

#### **11.E - Private Information and Second-Best Solutions**

### **Chapter 12 - Market Power**

#### **12.B - Monopoly Pricing**

### **Chapter 15 - General Equilibrium Theory: Some Examples**

#### **15.B - Pure Exchange: The Edgeworth Box**

#### **15.C - The One-Consumer, One-Producer Economy**

#### **15.D - 2x2 Production Model**

#### **15.E - General Versus Partial Equilibrium Theory**

### **Chapter 16 - Equilibrium and Its Basic Welfare Properties**

#### **16.B - The Basic Model and Definitions**

#### **16.C - The First Fundamental Theorem of Welfare Economics**

#### **16.D - The Second Fundamental Theorem of Welfare Economics**

#### **16.E - Pareto Optimality and Social Welfare Optima**

#### **16.F - First-Order Conditions for Pareto Optimality**

#### **16.G - Some Applications**

## **Krebs Takeaways**{.tabset}

### 1

#### 1) Choice Preference and Utility

Demand and supply derive from choices. Choices can be made by firms or individual consumers. Basic framework:

- *X*: a set of possible objects that might be chosen and an individual, the consumer, who does the choosing. 

- $\mathcal{A}$ collection of nonempty subsets of X/

- *A*: typical element of $\mathcal{A}$, A $\subset$ X.

- c(A): consumer choices.

- c: a choice function whose domain is $\mathcal{A}$ and range is the set of subsets of X.

- Commodity bundle: x = $\{x_1,...,x_n\} \in R_+^k$ where $R_+^k$ = $\{x \in R^k: x ≥ 0\}$.

- Prices: $p_i$ for the commodities so that $p = \{p_1,...,p_n\}$ is the price vector. 

- Income: *y* denotes the income of the consumer.

The story is that consumer chooses one element of A. c(A) is a **subset** of A, not a member/element of A. This allows for the consumer to be happy with more than one element of A, which are listed by c(A). The consumer could choose "*x* and nothing else", which would lead to writing c(A) = {x}, a singleton set. If the consumer says: "I'm happy with either x or y", we write c(A) = {x,y}. 

A [**model of consumer choice**](https://en.wikipedia.org/wiki/Consumer_choice) consists of some set X of possible objects of choice, a collection $\mathcal{A}$ of nonempty sets of X, and a choice function *c* whose domain is $\mathcal{A}$ and whose range is the set of subsets of X, with the sole restriction that c(A) $\subseteq$ A. 

Given the commodity bundle, prices and income can be expressed by: $\{x \in R_+^k: p x ≤ y \}$. A model of consumer choice in this context is then a choice function that says which bundles the consumer would be willing to accept, as a function of the prices of the goods *p* and her level of income *y*. 

The choices of the consumer are assumed to be *coherent* and in accord with *utility maximization* for some [**utility function**](https://en.wikipedia.org/wiki/Utility)(u). There is a function *u*: X $\rightarrow$ R, s.t. that $\forall$: 

\[ c(A) = \{x \in A: u(x) ≥ u(y) \forall y \in A \} \]

A third sort of coherence involves a *preference relation* over X. A preference relation expresses the consumer's feelings between pairs of objects in X. The preference relation is denoted by $\succeq$. For every pair of x and y from X, the consumer is willing to say that either x $\succeq$ y, meaning *x* is at least as good *y*, or not. 

\[ c(A) = \{x \in A: x \succeq y \forall y \in A \} \]



### 2 

#### 2 Structutal Properties of Preferences and Utility Functions



##### 2.1 Monotonicity



### 3


