---
output: html_document
---
# 15.470 - Asset Pricing{.tabset}

## Lecture 1 

Based on [**this**](https://gabrielvoelcker.netlify.com/mit/Lecture-0_Introduction and Overview.pdf).

### Finance Overview

[**Finance**](https://en.wikipedia.org/wiki/Finance) is about financial arrangements and transactions that improve economic efficiency. It aims to understand the functions of financial activities and their underlying mechanisms and, when suitable, how to improve their efficiency. Moreover, no arbitrage arguments allow for model-free statements about how financial market participants view economic tradeoffs $\implies$ data-driven welfare and investment criteria.

The objectives of 15.470 are:

- To develop a conceptual framework for the study of finance.

- To cover the basis of the neoclassical(frictionless) theory of finance.

- To introduce the key ideas, principles, methods and many of the basic results in modern finance.

### Positive vs Normative Approach

**Positive Approach**: minimal restrictions of no arbitrage. Somewhat unique to finance due to wealth of data. Focus of **H1**.

**Normative Approach**: Micro-founded model of portfolio choice $\implies$ Decision rules $\implies$ equilibrium restrictions on prices. Focus of **H2**.

```{r, echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("3.png")
grid.raster(img)
```

15.470 primarily focuses on demand and valuation of risky assets. It ignores frictions that make studying supply of risky assets fun and interesting: corporate finance. It neglects:

- Financial frictions.

- Capital Structure.

- Moral Hazard / separation of ownership and control (exec comp, Agency Theory).

- Banking and liquidity. 

### Basic Concepts

Real Assets: assets that contribute directly to the productive capacity of the economy(Ex: land, buildings, human capital, etc).

  - **Input**: resources today (hiring people/buying machines/building a factory).
  
  - **Output**: resources tomorrow (factory/store/product).
  
[**Financial Assets**](https://en.wikipedia.org/wiki/Financial_asset): claims to the returns generated by real assets. Allocate the profits (returns) and risks to various market participants and investors. Contribute **indirectly** to productive capacity of the economy. There are many types of financial assets, and they can be divided by **type** of claim:

1) Bonds / Fixed income securities: fixed dollar amount claim -> debt instruments and preferred stock.

2) Equities / Stocks: residual claim on firm profits (ownership stake) -> preferred stock & common stock.

3) Derivatives: contingent claims whose payoffs depend on prices of other traded financial assets -> options, futures, forwards swaps.

They can also be divided by the **maturity** of claim:

1) Money market: maturity of one year or less -> debt instruments -> **short maturity**.

2) Capital market: maturity of greater than one year -> debt instruments and equity -> **long maturity**.
  
3) Derivatives markets: **maturities vary** from very short (weeks/months) to very long (years or decades).

Key differences: Stocks vs Corporate Bonds vs Treasury Bonds.

- Corporate bonds and Treasury bonds usually have finite maturity.

- Stocks have **infinite** maturity. Pay dividends as long as firm is in business.

**Risk** differences between these assets:

- Treasury bonds are *"safe"*: cash flows fixed and will be paid *"for sure"*. 

- Corporate bonds and stocks (equity) **allocate** the cash flows of a firm. 

**Takeaway**: financial markets can decouple the risk & the maturity properties of an investors payoff from those of the associated real assets.

Financial assets usually easier to trade = more **liquid** than real assets.

**Holding period return** definition: financial investments transfer resources from today to the future and/or across states in the future. Units of financial assets are arbitrary, tend to work with returns:
  
$\begin{matrix} \underbrace{ R_{t + 1} } \\ gross\,return \end{matrix}$ = $\frac{Payoff_t+1}{Price_t}$ $\equiv$ $\frac{X_{t + 1}}{P_t}$ = $\begin{matrix} \underbrace{ \frac{D_{t+1}}{P_t} } \\ future\,direct\,cash\,flow\,\equiv\ \\ dividend\, yield \end{matrix}$ + $\begin{matrix} \underbrace{ \frac{P_{t+1}}{P_t} } \\ liquidation\,value \equiv \\ capital \, gain \end{matrix}$ = 1 + $\begin{matrix} \underbrace{ r_{t +1} } \\ net \, return \end{matrix}$

which represents the change in value of a \$1 initial investment, where:

- Investor receives cash flow $X_{t+1}$ without taking an action.

- Can *choose* to liquidate position at market price $X_{t + 1}$.

- Can *choose* to reinvest cash flows at market price $P_{t + 1}$.

In frictionless markets, returns are independent of position size $\implies$ prices and payoffs are linear in amount invested. Compound returns $\equiv$ compute the return from *t* to *t + k* of an initial investment of \$1, where cash flows are reinvested $\equiv 	\prod_{j=1}^{k} R_{t + j}$.

Standard summary statistics to consider when comparing the returns of different financial assets:

- Average (arithmetic) returns = $\frac{1}{T}$ $\sum_{t=1}^{T} R_t$, average return over one period.

- Average (geometric) returns / compound growth rates = [$\prod_{t=1}^{T} R_{t}$]$^{\frac{1}{T}}$ = exp($\frac{1}{T}\sum_{t=1}^{T} log\,R_t$) per-period return associated with buying and holding the asset over the entire sample period.

- Sample variance: $\frac{1}{T - 1} \sum_{t=1}^{T}$ [$R_t - \frac{1}{T} \sum_{j = 1}^T R_j$]$^2$.

- Standard deviation / **Volatility**: square root of variance.

- Higher moments: skewness, kurtosis.

- Nonparametric methods e.g. summarize data with a histogram.

#### Conventions:

- **Excess returns**: compute the difference between a given asset's return and a risk-free agent.

- **Annualized units**: multiply monthly average by 12(wrong because it ignores compounding).

- **Adjust for inflation**: when reporting for a single asset.

- [**Risk premium**](https://www.investopedia.com/terms/r/riskpremium.asp): is the return in excess of the risk-free rate of return an investment is expected to yield.

- [**Sharpe ratio**](https://en.wikipedia.org/wiki/Sharpe_ratio): is a way to examine the performance of an investment by adjusting for its risk. Measure of expected return per unit risk of the strategy: $\frac{Risk\,premium}{Volatility}$ = $\frac{E[R_{t+1}- R_{f,t+1}]}{Std[R_{t+1} - R_{f,t+1}]}$ 

[**Jensen's Inequality**](https://en.wikipedia.org/wiki/Jensen%27s_inequality) and [**video**](https://www.youtube.com/watch?v=HfCb1K4Nr8M): relates the value of a convex function of an integral to the integral of the convex function. Given its generality, the inequality appears in many forms depending on the context, some of which are presented below. In its simplest form the inequality states that the convex transformation of a mean is less than or equal to the mean applied after convex transformation; it is a simple corollary that the opposite is true of concave transformations.

  


## Lecture 2 - Basic Framework

Based on [**this**](https://gabrielvoelcker.netlify.com/mit/Lecture-2_Basic-Framework.pdf).

### Stylized Facts

What were returns historically for different financial assets?

```{r, echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("4.png")
grid.raster(img)
```

- One year distributions for some major asset classes.

- Means and standard deviations: portfolios and individual stocks.

- Cumulative returns across asset classes.

- Inflation makes future nominal payments risky.

- Real returns across asset classes.

- Rankings are fairly stable across countries.

- Relative riskiness depends on the **horizon**.

We start with a parsimonious framework, aimed at capturing the basic economic function of financial transactions/activities – resource allocation. We start simple and then build up. Key components: 

a) Financial environment.

b) Agents.

c) Financial/securities market.

d) Market equilibrium.

e) Efficiency.

While we will emphasize theory throughout most of this course, financial markets provide a wealth of data which constantly challenge our models qualitatively and (especially) quantitatively.

### Environment

Two key elements of finance/resource allocation: **time** and **risk**. Consider two dates: t = 0 and 1. There are M possible states at t = 1, denoted by: $\omega_1$, ..., $\omega_M$. The set $\Omega$ = {$\omega_1, ..., \omega_M$} is called the **state space**. 

There is a **probability measure $\mathbb{P}$ over the state space. The probability for state $\omega_m$ is $p_m$ > 0, m = 1, ..., M, and $\sum_{m=1}^M p_m$ = 1.

Most of what we discuss will hold (even w/ the same notation) in alternative environments with multiple periods. More generally, $m$ can be an index for different combinations of future states and time periods. Useful example: no uncertainty about the future, m indexes different time periods in the future. Only substantive change will be that, in this case, probabilities may not sum to 1 (you may be surprised how infrequently probabilities appear). Interpretation: agents come to the market at time 0, trade to choose state- and time-contingent consumption bundles.

### Agents

We assume that the economy is populated by K agents, k = 1, ..., K. Each agent has the following characteristics:

- Resources:

    - Information.
    
    - Endowment.
    
    - Production technology.

- Choices: consumption (+ resource allocation).

- Preferences.

#### Agent's Information

In addition to P, agents may receive information at t = 0 about the states at t = 1. This information can be public and private. For now, we assume that agents receive no information other than $\mathbb{P}$. All agents use $\mathbb{P}$ as their prior assessment of the likelihood of time-1 states. The agents have: **rational expectations** and **homogenous beliefs**. 

#### Agent's endowment

There is only one *perishable* good/type of capital in the economy. Each agent *k* is endowed with the following:

- $e_0^k$ at t = 0. 

- $e_{1\omega}^k$ at t = 1 in state $\omega$, $\omega \in \Omega$.

Notation: [·,...,·] denotes a row vector, and [·; ...;·] denotes a column vector.

The endowment of agent k can then be by the following vector: $e^k$ $\equiv$ $[e_0^k;e_1^k]$ $\equiv$ $[e_0^k;[e_{11}^k;...;e_{1M}^k]]$, k = 1,...,K.

- Useful special case: standard portfolio problem ≡ $e^k_0$ > 0, $e^k_1$ = 0.

Let $\mathbb{R}^{1 + M}$ denote an (1 + M)-dimensional real space and $\mathbb{R}^{1 + M}_+$ its non- + negative quadrant. Non-negative endowment means e $\in$ $\mathbb{R}^{1 + M}_+$. For a vector...........

#### Agent's production

Each agent may possess a set of **production technologies**. A production technology turns an *investment at t = 0 into output at t = 1*. We can define a production technology by a production function: $y_1(I)$ = [$f_1$(I); ...; $f_M$(I)]. We will assume that: $f_\omega$(0) = $f'_\omega$(I) ≥ 0, $f_\omega$''(I) ≤ 0, $\forall \omega \in \Omega$. The condition on concavity implies **decreasing return to scale**.

#### Agent's consumption

Agents use their economic resources to best meet their economic needs. An agent’s economic need is defined over her **consumption**: $c_0$ at t = 0 and $c_{1\omega}$ at t = 1 in state $\omega$, $\omega$ $\in$ $\Omega$, or $c^k$ $\equiv$ [$c^k_0;c^k_1$] $\equiv$ [$c^k_0$;[$c^k_11;...;c^k_1M$]], k = 1,...,K.

A possible consumption choice, c = [$c_0$; $c_{1\omega}$], is called a **consumption plan**. A realization of a consumption plan, ($c_0, c_{1\omega}$) is called a **consumption path**. C is the **consumption set** and denotes the set of all possible consumption plans. C is a subset of $\mathbb{R}^{1+M}$. Standard choice of C is $\mathbb{R}^{1+M}_+$.

#### Contrast with "standard" application

First application of consumer theory: different arguments of C are associated with different goods: e.g., good 1 is pizza and good 2 is beer. Here, "good" is roughly the same -> always talking about consumption. Elements of $c^k$ correspond with agent k's **state-contingent consumption**. Two reasons why states may differ: 

  - Preferences may differ across states.
  
  - Endowments may differ: different amounts of resources available to consume.
  
  - Models will tend to emphasize the latter channel.

More general environment introduced above: consumption could be state and time-dependent.

#### Agent's Consumption

[**Convex set definition**](https://en.wikipedia.org/wiki/Convex_set): a set in $R^n$ is convex if $\forall$*a* and *b* in the set and $\alpha \in [0,1]$, $\alpha a$ + (1 - $\alpha$)b is also in the set.

**Closed set definition**: a set in $R^n$ is closed if a sequence of elements in the set $a_i$, i = 1,2,.., has *a* as the limit, then *a* is also in the set.

**Consumption set assumption**: consumption set C is a closed, convex subset of $\mathbb{R}^{1 + M}$.

#### Agent's Preferences

An agent’s economic need is described by her preferences, defined by her ranking of all possible consumption plans. 

**Preferences definition**: a preference is a set of binary relations $\succeq$ on C such that:

1) $\succeq$ is complete: $\forall$a,b $\in$ C, a $\succeq$ b or b $\succeq$ a, or both.

2) $\succeq$ is transitive: a $\succeq$ b and b $\succeq$ c implies a $\succeq$ c.

[**Utility function assumption**](https://en.wikipedia.org/wiki/Utility): a preference relation $\succeq$ can be represented by a **utility function**: u(.): c $\mapsto$ R, such that: $\forall a,b \in C$ a $\succeq$ b $\iff$ u(a) ≥ u(b).

Is the utility function realistic? Under certain mild assumptions on a preference relation (continuity), we can show the existence of a corresponding utility function. In general, u(.) is an *ordinal* operator: any strictly increasing transformation of u(.) represents the same preferences.

#### Last note's about agents

Consumption $\iff$ financial wealth. Everything is consumed at t = 1. This can be a shorthand for a more complicated market structure with multiple goods. Agent k solves static consumer problem in background with financial resources $c^k_{1\omega}$. In this case, we think of $c_{1\omega}$ as the indirect utility associated with choosing a consumption bundle a given amount of wealth, with prices given. Another source of uncertainty: prices of goods could depend on $\omega$.

### Securities Market

A [**security**](https://en.wikipedia.org/wiki/Security_(finance)) is a financial claim yielding a payoff at t = 1: $D_{1\omega}$, $\forall \omega \in \Omega$, or $D_1$ = $[D_{11};D_{12};...;D_{1M}]$. **D** will be referred to as **dividend** or **cash flow**. Define $\mathbb{R}^M$ as the **payoff space**. A security is then defined by a vector in the payoff space.

#### Frictionless market

A [**frictionless market**](https://www.investopedia.com/terms/f/frictionlessmarket.asp). features:

- No access cost.

- No transaction costs.

- No position limits(constraints).

- No market impact.

- No information asymmetry.

- No taxes.


### The Economy

Summarizing the components we've worked so far, we arrived at a definition of what the economy looks like.

### Market Equilibrium

In the economy defined above, agents can trade in the securities market to best meet her economic needs, given her resources. By purchasing portfolio $\theta$ at t = 0, she can achieve consumption: 

$c_0$ = $e_0$ - $P^T$ $\theta$,

$c_1$ = $e_1$ + $D_1 \theta$.

The set of consumption plans available to her is given by:

B(e,{$D_1,P$}) $\equiv$ {c ≥ 0: $c_0$ = $e_0$ - $P^T \theta$, $c_1$ = $e_1$ + $D_1 \theta$, $\theta$ $\in$ $R^N$}.

**Budget set**: B(e, {$D_1$, P}).

Each agent solves his/her optimization problem by maximizing utility restricted to budget sets. The **solution** is denoted by $\theta^k$(P,e).

### Optimality

Optimality/Allocational Efficiency: is feasible given the total endowment of the economy {$e^k \forall k$} if: 

$\sum_{k}c^k$ = $\sum_k e^k$

- [**Pareto dominance**](https://en.wikipedia.org/wiki/Pareto_efficiency).

- Pareto optimality.

###
## Lecture 3 - Arbitrage Pricing

### Introduction

Following the basic framework, we start our analysis with the general properties of the securities market.



**Security(N)**: a security is an asset of the market. It is considered **redundant** if its payoff can be **replicated** by a portfolio of other traded securities. This can be represented by $\exists \theta_{\n}$ s.t. $D_{\n}\theta_{\n}$ = $D_n$. 

**Portfolio of securities ($\theta$)**: represents a combination of securities.

**States of the market(M)**: all the different combinatios of payoffs possible in that market.

**Payoff Matrix(D)**: denote the market structure with N securities. Example: $D_n$ is the payoff vector of security *n*, $D_{\n}$ is the payoff matrix excluding $D_n$. **D** includes only securities with linearly independent payoffs $\implies$ rank(D) = N ≤ M. Given D, the set $C_1(D)$ = $\{c_1 = D \theta : \theta \in R^n \}$ is called the **payoff space**. The set of securities in D is said to  **span**$C_1$(D). 

Any payoff vector in $c_1 \in C_1$(D) can be delivered by a portfolio $\theta$. It is said then that $c_1$ is to be replicated or financed by $\theta$.

**Market Completeness**: a securities market is complete if any payoff at t = 1 can be achieved from the payoff of a portfolio of traded securities. If N < M, the market cannot be complete. A **sufficient condition for market completeness* is that when the rank of D equals the number of States(rank(D) = M), the market is complete.


**State-Contingent Claims**: a state-$\omega$ contingent claim pays 1 in state $\omega$ and nothing otherwise. Also called an **Arrow-Debreu security**.


### State Prices

### Arbitrage

### FTAP

An **asset pricing model** is a mapping from a security’s payoff vector d to its price P: P = V(d).

V(.) is called the **pricing/valuation operator/functional**.

The NA principle imposes general properties on the pricing operator V (·).

## Lecture 4 - Arbitrage Pricing (cont.)

### FTAP

There is no arbitrage in the securities market if and only if there exists φ ≫ 0 such that for all traded securities:

$P^T = \phi^T D$

$\phi$ = state price vector implied from D and P.

## Useful Info

### Grading

Problem sets (10%). Midterm exam (30%). October 28th Final exam (60%)

### Course Overview:

### H1 (LS)

#### 1) Fundamental Theory of Asset Pricing

  1.1) [**Arrow-Debreu state-space framework**](https://en.wikipedia.org/wiki/Arrow%E2%80%93Debreu_model): suggests that under certain economic assumptions (**convex preferences, perfect competition, and demand independence**) there must be a set of prices such that **aggregate supplies will equal aggregate demands** for every commodity in the economy.

  1.2) [**Arbitrage**](https://en.wikipedia.org/wiki/Arbitrage): is the practice of taking advantage of a price difference between two or more markets: striking a combination of matching deals that capitalize upon the imbalance, the profit being the difference between the market prices at which the unit is traded. When used by academics, an arbitrage is a transaction that involves no negative cash flow at any probabilistic or temporal state and a positive cash flow in at least one state; in simple terms, it is the possibility of a risk-free profit after transaction costs. For example, an arbitrage opportunity is present when there is the opportunity to instantaneously buy something for a low price and sell it for a higher price.

  1.3) [**Fundamental theorem of asset pricing**](https://en.wikipedia.org/wiki/Fundamental_theorem_of_asset_pricing) (FTAP): provide necessary and sufficient conditions for a market to be arbitrage free and for a market to be complete. An **arbitrage opportunity** is a way of making money with no initial investment without any possibility of loss. Though arbitrage opportunities do exist briefly in real life, it has been said that any sensible market model must avoid this type of profit. The first theorem is important in that it ensures a fundamental property of market models. A **complete market** is one in which every contingent claim can be replicated. Though this property is common in models, it is not always considered desirable or realistic.

  1.4) [**Market completeness**](https://en.wikipedia.org/wiki/Complete_market): is a market with two conditions: 1) Negligible transaction costs and therefore also perfect information; 2) there is a price for every asset in every possible state of the world. In such a market, the complete set of possible bets on future* **states of the world** can be constructed with existing assets without friction. Here, goods are state-contingent; that is, a good includes the time and state of the world in which it is consumed. For ex: an umbrella today if it's not raining is different than an umbrella tomorrow if it's raining.

  1.5) [**State price density**](https://en.wikipedia.org/wiki/Stochastic_discount_factor) and [**risk neutral measure**](https://en.wikipedia.org/wiki/Risk-neutral_measure): 
  
  **State price density**(also Stochastic Discount Factor (SDF)) refers to the fact that the price of an asset can be computed by "discounting" the future cash flow $\widetilde{x_i}$ by the stochastic factor $\widetilde{m}$ and then taking the expectation.
  
  **Risk neutral measure**: is a probability measure such that each share price is exactly equal to the discounted expectation of the share price under this measure.

  1.6) [**Applications of no arbitrage**](https://en.wikipedia.org/wiki/Arbitrage#Arbitrage-free) : If the market prices do not allow for profitable arbitrage, the prices are said to constitute an arbitrage equilibrium, or an arbitrage-free market. An arbitrage equilibrium is a precondition for a general economic equilibrium. The "no arbitrage" assumption is used in quantitative finance to calculate a unique risk neutral price for derivatives.

  1.6.1) I Options and derivative securities
    
  1.6.2)  Neoclassical corporate finance: Objectives of a firm and value maximization

  1.7) [**Arbitrage Pricing Theory(APT)**](https://en.wikipedia.org/wiki/Arbitrage_pricing_theory): holds that the **expected return** of a financial asset can be modeled as a linear function of various factors or theoretical market indices, where sensitivity to changes in each factor is represented by a factor-specific beta coefficient. The model-derived rate of return will then be used to price the asset correctly—the asset price should equal the expected end of period price discounted at the rate implied by the model. If the price diverges, arbitrage should bring it back into line. 

#### 2) Optimal portfolio choice

  2.1) [**Preference theory**](https://en.wikipedia.org/wiki/Revealed_preference): is a method of analyzing choices made by individuals, mostly used for comparing the influence of policies on consumer behavior. Revealed preference models assume that the preferences of consumers can be revealed by their purchasing habits. 

  2.2) [**Optimal consumption/portfolio choices**](https://en.wikipedia.org/wiki/Portfolio_optimization):  is the process of selecting the best portfolio (asset distribution), out of the set of all portfolios being considered, according to some objective. The objective typically maximizes factors such as expected return, and minimizes costs like financial risk. Factors being considered may range from tangible (such as assets, liabilities, earnings or other fundamentals) to intangible (such as selective divestment).

  2.3) [**Risk aversion and portfolio choices**](https://en.wikipedia.org/wiki/Risk_aversion): is the behavior of humans (especially consumers and investors), who, when exposed to uncertainty, attempt to lower that uncertainty. It is the hesitation of a person to agree to a situation with an unknown payoff rather than another situation with a more predictable payoff but possibly lower expected payoff. 


  2.4) [**Portfolio choices in complete markets**](https://en.wikipedia.org/wiki/Modern_portfolio_theory)

  2.5) [**Stochastic dominance**](https://en.wikipedia.org/wiki/Stochastic_dominance): is a partial order between random variables.  It is a form of stochastic ordering. The concept arises in decision theory and decision analysis in situations where one gamble (a probability distribution over possible outcomes, also known as prospects) can be ranked as superior to another gamble for a broad class of decision-makers. It is based on shared preferences regarding sets of possible outcomes and their associated probabilities. Only limited knowledge of preferences is required for determining dominance. Risk aversion is a factor only in second order stochastic dominance. 
  
Stochastic dominance does not give a total order, but rather only a partial order: for some pairs of gambles, neither one stochastically dominates the other, since different members of the broad class of decision-makers will differ regarding which gamble is preferable without them generally being considered to be equally attractive.

  2.6) Portfolio separation theorems: [**Fisher's**](https://en.wikipedia.org/wiki/Fisher_separation_theorem) or [**Mutual Fund Separation Theorem**](https://en.wikipedia.org/wiki/Mutual_fund_separation_theorem)

  2.7) [**Mean-variance analysis**](https://corporatefinanceinstitute.com/resources/knowledge/trading-investing/mean-variance-analysis/): is a technique that investors use to make decisions about financial instruments to invest in, based on the amount of risk that they are willing to accept (risk tolerance). Ideally, investors expect to earn higher returns when they invest in riskier assets. When measuring the level of risk, investors consider the potential variance (which is the volatility of returns produced by an asset) against the expected returns of that asset. Mean-variance analysis essentially looks at the average variance in the expected return from an investment.

### H2 (LK): 

#### 3) Static equilibrium models of asset pricing

3.1) [**Market equilibrium**](https://en.wikipedia.org/wiki/Economic_equilibrium): is a situation in which economic forces such as supply and demand are balanced and in the absence of external influences the (equilibrium) values of economic variables will not change. For example, in the standard textbook model of perfect competition, equilibrium occurs at the point at which quantity demanded and quantity supplied are equal. [**Video**](https://www.khanacademy.org/economics-finance-domain/ap-macroeconomics/basic-economics-concepts-macro/market-equilibrium-disequilibrium-and-changes-in-equilibrium/v/market-equilibrium).

3.2) [**Capital Asset Pricing Model(CAPM)**](https://en.wikipedia.org/wiki/Capital_asset_pricing_model): is a model used to determine a theoretically appropriate required rate of return of an asset, to make decisions about adding assets to a well-diversified portfolio.

3.3) [**The Consumption-based Capital Asset Pricing Model(C-CAPM)**](https://en.wikipedia.org/wiki/Consumption-based_capital_asset_pricing_model): is a model of the determination of expected (i.e. required) return on an investment. The model is an extension of the capital asset pricing model (CAPM). Instead of basing the required return on the asset's performance relative to "the market's", it factors in consumption as a means of calculating the required return. (Consumption is spending for acquisition of utility as opposed to investing which is spending for acquisition of future income.) The logic: risky assets create uncertainty in consumption — how much a person will be able to spend becomes uncertain, because the level of wealth is uncertain due to investments in risky assets. The required return will then be linked to an estimate of how stock market returns change relative to consumption growth - beta below.

#### 4) Asymmetric information

4.1) [**Asymmetric information**](https://www.investopedia.com/terms/a/asymmetricinformation.asp) in financial markets, [**Grossman-Stiglitz model**](https://en.wikipedia.org/wiki/Grossman-Stiglitz_Paradox): the GS Paradox introduces the idea that information is costly, prices cannot perfectly reflect the information which is available, since if it did, those who spent resources to obtain it would receive no compensation, leading to the conclusion that an informationally efficient market is impossible. 

4.2) [**No-trade theorem**](https://en.wikipedia.org/wiki/No-trade_theorem): states that: 1) if markets are in a state of efficient equilibrium; 2) if there are no noise traders or other non-rational interferences with prices; and 3) if the structure by which traders or potential traders acquire information is itself common knowledge, then even though some traders may possess private information, none of them will be in a position to profit from it

4.3) [**Rational expectations**](https://en.wikipedia.org/wiki/Rational_expectations) and market efficiency: are model-consistent expectations, in that agents inside the model are assumed to "know the model" and on average take the model's predictions as valid. Rational expectations ensure internal consistency in models involving uncertainty. To obtain consistency within a model, the predictions of future values of economically relevant variables from the model are assumed to be the same as that of the decision-makers in the model, given their information set, the nature of the random processes involved, and model structure. The rational expectations assumption is used especially in many contemporary macroeconomic models.

4.4) Market micro-structure, [**Kyle model**](http://dhenriet.perso.centrale-marseille.fr/kyle.pdf), [**Glosten-Milgrom model**](https://www.semanticscholar.org/paper/BID%2C-ASK-AND'-TRANSACTION-PRICES-IN-A-SPECIALIST-Glosten-Milgrom/5827ca4a5ac97e717fb5768f313079e813cebe86)

#### 5) Dynamic modeling

5.1) Dynamic state-space framework, [**FTAP**](https://www.copsmodels.com/2000gtapconf/12hanslow.pdf): the FTAP model is a comparative static, computable general equilibrium model of the world economy that includesa treatment of foreign direct investment on a bilateral basis.

5.2) Arbitrage asset pricing in a dynamic model

5.3) Dynamic portfolio choice

5.4) Dynamic equilibrium models with complete markets, CCAPM

5.5) Dynamic equilibrium models with incomplete markets

[**Financial Asset**](https://en.wikipedia.org/wiki/Financial_asset):  is a non-physical asset whose value is derived from a contractual claim, such as bank deposits, bonds, and stocks. Financial assets are usually more liquid than other tangible assets, such as commodities or real estate, and may be traded on financial markets.


## Ross' Notes

### Introduction

A pillar of economics is the ownership of claims to [**assets**](https://en.wikipedia.org/wiki/Asset). Finance is about valuing those claims, i.e., determining the prices of assets. The financial markets create continuous and voluminous records of these valuations.

We begin our study of finance with stock market data. The prices displayed are the prices at the close of the month for one share of stock quoted on exchanges where the stocks are traded throughout the day. What is it that each party thinks they can get from the transaction? In other words, what do you gain or lose from buying or selling an asset? Given two consecutive dates, t and t+1, say one month apart, consider the gain over the period from the purchase of \$1 of stock. If the price per share is $p_t$, then \$ 1 will buy $\frac{1}{p_t}$ shares of stock at time *t*. 

If the investor holds these shares over the month from t to t+1, then the price of these shares will have changed to: $p_{t+1}$ and these shares would then be worth: $\frac{p_{t+1}}{p_t}$. Hence, the **profit** would be:

\[ \frac{p_{t+1}}{p_t} - 1 = \frac{p_{t+1} - p_t}{p_t} \]

This is the [**capital gain**](https://en.wikipedia.org/wiki/Capital_gain) (or loss, if negative), the percentage increase (decrease) in the value of the asset over this period. In addition to the change in the value of the asset, assets often have an associated cash flow which is paid to the holder. For stocks the attendant cash flow is called a [**dividend**](https://en.wikipedia.org/wiki/Dividend). If this stock paid a dividend per share of $d_t$ at the end of the period(at $t+1$), then \$ 1 of investment at t would entitle the holder to $\frac{d_t}{p_t}$ dollars of dividends per \$ 1 investment.

The **total rate of return** over period t would be:

\[ R_t \equiv \frac{p_{t+1}- p_t}{p_t} + \frac{d_t}{p_t} \]

The **gross return** would be 1 + $R_t$.

Letting {$x_1,...,x_n$} denote a sequence of n data points, we define the sample mean, μ, the standard deviation, σ, the skewness, η, and the kurtosis, κ, as follows:

\[ mean = \mu = \frac{1}{n} \sum_i x_i\]

\[ standard \, deviation = \sigma \sqrt{(\frac{1}{n-1})\sum_i (x_i - \mu)^2}\]

\[ skewness = \eta = \frac{n}{(n-1)(n-2)} \sum \frac{x_i - \mu}{\sigma}^3 \]

\[ kurtosis = \mathcal{k} = \frac{n(n+1)}{(n-1)(n-2)(n-3)} \sum \frac{x_i - \mu}{\sigma}^4  - \frac{3(n-1)^2}{(n-2)(n-3)} \]

\[ t-statistic = \frac{\mu}{(\frac{\sigma}{\sqrt{n}})}  \]

**Risk-premia**: the difference between risky-assets and the treasury interest rates(risk-free).

**Equity risk premium**: difference between stocks and risk free interests rates.

This influences the decision to invest in risky or not risky assets.

- **Cross Section Betas**: the regressions of each stock on the S&P 500 index indicate significant correlations. The coefficients are significant and, generally positive, and this is true not only for our sample but for the market as a whole. This is an important stylized fact about the returns on these risky securities and the theories we will develop will take account of this observation.

- **Time Series Properties: Efficient Market Theory:**  the absence of a pattern in the return data is consistent with one of the central intuitions of modern finance. If the market accurately processes information, then we describe such market as informationally efficient. 
A **market is efficient** if prices “reflect” the information available to investors. There is no easy money: the efficient market theory would say that no trading strategy could beat simply buying and holding an asset or some portfolio of assets - assuming that  both the trading strategy and the buy and hold strategy had the same inherent risks(standard deviations and other measures of risk).

### **Summary of Introduction to Finance**

Summarizing this introduction to finance, then, we have discovered three stylized facts about asset returns which the theory of finance will have to address.

i) Efficient Markets: Asset returns are, apparently, quite random and unpredictable.

ii) Positive Risk Premiums: On average, the risky stock market appears to have higher expected returns than less risky or volatile Treasury rates of return.

iii) Significant ‘betas’: Random asset returns appear to be cross correlated.

### **Chapter 1: The Arrow Debreu State Space Framework**

We need to develop a framework within which random financial choices are compared and made:

Two **time periods**: 0 and 1. Trades happen at 0, payoffs occur by time 1. We model **uncertainty** by using a finite state space approach, given the perspective ex-ante at 0, there is a **finite set of states of nature** that could possibly occur. The **state space** consists of:

\[ \Omega = \{\theta_1,...,\theta_m\} \]

Needless to say, these states are mutually exclusive. We define also a **measure(probability vector)**:

\[ \pi = \{ \pi_1,...,\pi_m \}  \]

Over the states of nature, where each $\pi_i$ is interpreted as the probability that the state of nature will be $\theta_i$ at time 1. The sum of all measures add up to 1. 

Knowing this, we can model any r.v. such as the time 1 price of a stock as a function from $\Omega$ to the line R. The price of the $j^{th}$ stock at time 1 can be modeled as:

\[ x^j = x^j (\theta) \]

Since we have a finite state space, this is equivalent to representing the time 1 dollar price of asset j as a vector:

\[ x^j = \{ x^j (\theta_1),...,x^j(\theta_m)\} = \{ x_{1j},...,x_{mj}  \}  \]

Using a matrix, we can represent all the possibilities of period 1 prices for the *n* assets as

\[ X = [x_{ij}] = \begin{bmatrix}
    x_{11} & \dots  & x_{1n} \\
    \dots & \dots  & \dots \\
    x_{m1} & \dots  & x_{mn}
\end{bmatrix} \]


**Payoffs**: $x_{ij}$, the quantities, are the time 1 prices of the assets in the different states and they are cum dividends and cashflows. Each column of X displays the payoffs on the assets traded in the market as a function of the state of nature. The matrix X is called the **Arrow-Debreu tableux** or **State-space tableau**.

Each of the traded assets has a current, time 0 price, $p_j$, and the vector of such prices is given by the n vector:

\[ p = <p_1, \dots, p_n > _{1 \times n}  \]

Assuming the prices are nonzero, we can write the (mxn) matrix of
gross returns across assets and states, R, as: R = $XP^{-1}$ where P is the diagonal matrix with entries $p_i$ on the diagonal.

#### **The Individual Portfolio-Consumption Problem**

Given wealth today = $w_0$, wealth at time 1 = $w_1$, as well as an endowment of holdings of stocks $\phi_i$, then their endowment vector is

\[ \varphi = \{ \varphi_0, \dots, \varphi_n \} \]

and their current wealth is given by:

\[ w_0 = \varphi_0 + \sum \varphi_i \rho_i = \varphi_0 + \varphi_\rho  \]

To move the wealth in the next period, the investor can purchase only the *n* assets. Suppose the investor buys a vector of stocks:

\[ a = (a_1,\dots,a_n)_{n \times 1} \]

$a_i$ denotes the quantity of shares bought at the period 0. The budget constraint is given by: 

\[ c_0 + pa = c_0 + \sum p_i a_i ≤ w_0  \]

The wealth not consumed in the first period will be denoted by $\omega_0$, so that $\omega_0$ = $w_0$ - $c_0$. The budget constraint then is $pa ≤ w_0$.

Imagine an asset has negative payoff. What should we do? A practical way this is accomplished in the market is for the short seller to borrow this asset at time 0 from another investor and then sell it. This is called a short sale since the seller of the asset is ‘short’ it, i.e., the seller has borrowed it and owes it back to a lender.

The vector **a** is a quantity, but it is often convenient to redefine the variable quantities of the portfolio problem in terms of how much of current wealth ($w_0$) is invested in each asset. The proportion of current wealth (not consumed) and invested in asset *i* is given by:

$\alpha_i$ = $\frac{\rho_i a_i}{\omega_0}$

Given that the investor has two possibilities: consume or invest; the inequality in the budget constraint is an equality and the proportions must sum to 1:

\[ \sum \alpha_i = \alpha e = 1   \]

**Portfolio**: is an n-vector whose entries, represented by $\alpha_j$, sum to one:

\[ \sum \alpha_j = 1 \]

But not all elements have to be ≥ 0. When time passes and we arrive at time = 1, the wealth of the investor will depend on **which state has happened**. At time 1, the payoff in state of nature θi from holding aj units of stock j is given by: $a_j x_{ij}$. The total payoff or wealth in state $\theta_i$ is given by:

\[ w_1(i) = \sum_j a_j x_{ij} \]

Thus, the vector of wealth payoffs at time 1 in state $\theta_i$ is given by

\[ w_1 = \{ w_1(i) = X_a\} \]

Different portfolio choices, $\alpha$, and current consumption choices, $c_0$, will result in different terminal wealth vectors, $w_1$.

#### **The Two State, Two Asset (Binomial) Example**

Given m(states) = 2 and n(assets) = 2. Given the two future states $w_1(1)$ and $w_1(2)$. 

The original form of budget constraint is $p_1 a_1 + p_2 a_2 = \omega_0$ and given this BC, the set of possible payoffs is the set:

\[ w_1(i) = a_1X_{i1} + a_2X_{i2} \]

Which is the line in the figure that goes through the two points where there is only investment in each of the assets.

```{r, echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("20.png")
grid.raster(img)
```

If the agent only buys asset 1:

\[ \{ (\frac{\omega_0}{p_1})X_{11},(\frac{\omega_0}{p_1})X_{21}\} = \omega_0 \{ R_{11},R_{21} \}  \]

Because $R = XP^{-1}$ (X is the payoff in state i of asset j). If the investor only buys asset 2:

\[ \{ (\frac{\omega_0}{p_2})X_{12},(\frac{\omega_0}{p_2})X_{22}\} = \omega_0 \{ R_{12},R_{22} \}  \]

About short-selling: on the **budget line** between the two points the wealth is divided between them.  On the budget line to the left of the first asset, though, the investment in the first asset exceeds $\omega_0$ and the additional wealth comes from short selling the second asset.  By having the budget line end at the two axes we are allowing short sales but not to such an extent that they risk bankruptcy.

“the investor is free to purchase any portfolio so long as it satisfies the budget constraint” by appending the additional constraint that wealth be non-negative in every state. Thus, the feasible, F, set of choices for the investor has the form:

\[ F = \{a|pa ≤ \omega, X_a ≥ 0\} \]

#### **The investor's problem**


Suppose that there is some investor who actually does have an optimal portfolio and consumption choice. Label these choices <$\alpha^*, c^*$>. Since they are optimal, they can't be improved. Since they must be feasible, they satisfy the budget constraint:

\[ c^* + pa^* = w_0 \]

or

\[ pa^* = \omega_0 ^* \equiv w_0 - c^*\]

Now consider any proposed improvement on the portfolio portion of this position. Such an improvement would be an *n* vector of holdings, $\eta$, such that the altered position is feasible:

\[ p(a* + \eta) ≤ \omega_0 ^* \]

or 

\[ \rho \eta ≤ 0 \]

Any portfolio/position that satifies the above constraint, that is, **uses no wealth**, is said to be **self-financing**. 

**Arbitrage portfolio**: is an *n* vector $\eta$, such that:

\[  \rho \eta = 0 (it costs nothing to buy) \]

As a consequence of the change, $\eta$, the wealth vector at time 1, $w_1$ has been altered to

\[ w_1 + X\eta \]

We do know that $\eta$ can't be an improvement on $a^*$. That implies that $\eta$ cannot increase wealth in any state of nature unless it 
lowers wealth in at least one other state. If the arbitrage portfolio $\eta$ costs nothing or a negative amount today: $\rho \eta ≤ 0$.

### **Options, Derivatives and Other Financial Instruments**

**Call Option**: gives the holder the **right**, but not the obligation, to purchase the security for a stated amount, **K**, the **exercise/strike** price at some time in the future called the **maturity**. Since it gives the holder the right to purchase the security for K, if the price of the security at the time of exercise, X, is greater than the strike price, K, the holder will exercise the option, i.e., buy the security for K and sell it for X. The difference, then, X - K, is the value of the option. Since this is a right and not an obligation, if X < K, holders will not exercise their right of purchase and the option will expire without being exercised. Thus, the formula for the payoff on a call option at maturity is:

\[ C(X:K) = max[X-K,0] = [X - K]^+ \]

This payoff can be seen in the following picture: 

```{r, echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("21.png")
grid.raster(img)
```

**Put options**: gives the holder the right, but not the obligation, to sell the security for a stated amount, K, the **exercise price** or **strike price** at some time in the future called the **maturity**.

If the value of the security at maturity, X, falls short of the exercise price, then the holder will exercise the put, purchasing the security for its market price of X and selling it to the **writer**. This results in a profit at maturity of K - X. The **payoff of a put option at maturity** is:

\[ P(X;K) = max[K - X,0] = [K - X]^+ \]

While the holder of an option has the right to exercise it, the seller or writer of the option has an obligation. In practice, most options are settled in cash, which means that rather than buying or selling the security, the **cash value of the option** at maturity, say $[X - K]^+$ for a call, is **paid by the writer to the holder**.

```{r, echo=FALSE}
library(png)
library(grid)
setwd("~/Dropbox/R/Site-Gabriel/public/MIT")
img <- readPNG("22.png")
grid.raster(img)
```

**In the money**: call: X > K; put: K > X.

**Out of the money**: call: X < K; put K < X.

**At the money**: X $\equiv$ K.

**Put** and **call** options are examples of **derivatives**: a type of security whose value depends on the value of another security, called the **primitive** or **underlying security**. 

### **Combining Options**

A **forward** or a **future** contract commits the long (the ‘buyer’) to the purchase of
a specified quantity of some good or asset at a specified price, the futures or forward price and at
some fixed future date, the maturity, and commits the short (the ‘seller’) to the sale of that good or
asset. The difference to an option is that both parties are **committed** to doing the trade. The equilibrium is reached by adjusting the forward or future price. This price means that the forward price must be set so that the value of the contract today is zero.

\[ S_1 - F_1 \]

\[ Value \, of \, forward \, contract = (\frac{1}{1+r})E^* [S_1 - F_1] = 0 \]

\[ \implies E^*[S_1] = E^*[F_1] = F_1 = S_0(1+r) \]

\[ F_1 = E^*[S_1] \]

Forward contracts settle as we have described them, at the end of the period. Futures contracts, on the other hand, mark to market, which means that they must settle with a cash payment every day and, sometimes, even intraday. By settling we mean that each day money changes hands as the futures price changes with changing expectations about the future value of the contract. If tomorrow’s futures price is higher than today’s, then the short must give the difference to the long and if it is lower the long must pay the difference to the short. By this settling process, the value of the contract is continuously kept at zero. A forward contract, by contrast, is only settled at maturity and if the final price, $S^1$.

#### **Put-Call Parity**

A riskless bond that pays K for sure plus a call with an exercise price of K on an asset is equivalent to or replicated by a put with an exercise price of K and a holding of the underlying asset:

\[ \frac{K}{1+r} + C(S_o,K) = S_o + P(S_0,K) \]

Where $S_0$ is the current price of the asset and *r* is the riskless rate.









